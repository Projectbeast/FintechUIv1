<%@ Page Language="C#" MasterPageFile="~/Common/S3GMasterPageCollapse.master" Title="S3G - Pricing"
    AutoEventWireup="true" CodeFile="S3gOrgPricingBW_Add.aspx.cs" Inherits="Origination_S3gOrgPricingBW_Add"
    EnableEventValidation="false" %>

<%@ OutputCache Location="None" %>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="cc1" %>
<%@ Register Src="../UserControls/S3GCustomerAddress.ascx" TagName="S3GCustomerAddress"
    TagPrefix="uc1" %>
<asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">
    <table width="100%" align="center" cellpadding="0" cellspacing="0">
        <tr>
            <td class="stylePageHeading">
                <asp:Label runat="server" ID="lblHeading" CssClass="styleDisplayLabel">
                </asp:Label>
            </td>
        </tr>
        <tr>
            <td style="padding-top: 1%">
                <cc1:TabContainer ID="tcPricing" runat="server" ActiveTabIndex="3" CssClass="styleTabPanel"
                    Width="99%" ScrollBars="None" TabStripPlacement="top">
                    <cc1:TabPanel runat="server" HeaderText="MainPage" ID="TabMainPage" CssClass="tabpan"
                        BackColor="Red">
                        <HeaderTemplate>
                            Main Page &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                                <ContentTemplate>
                                    <table width="100%">
                                        <tr>
                                            <td>
                                                <asp:Panel runat="server" ID="panInputCriteria" CssClass="stylePanel" GroupingText="Input Criteria">
                                                    <table width="100%">
                                                        <tr>
                                                            <td class="styleFieldLabel" style="width: 17%">
                                                                <asp:Label ID="lblCustomerCode" runat="server" Text="Customer Name" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <%--<cc1:ComboBox ID="cmbCustomerCode" runat="server" AutoPostBack="True" AutoCompleteMode="SuggestAppend"
                                                                            onkeyup="maxlengthfortxt(113)" DropDownStyle="DropDownList" MaxLength="0" CssClass="AquaStyle"
                                                                            OnSelectedIndexChanged="cmbCustomerCode_SelectedIndexChanged" ValidationGroup="Pricing">
                                                                        </cc1:ComboBox>--%>
                                                                <asp:Panel ID="panCustCode" runat="server">
                                                                    <asp:TextBox ID="cmbCustomerCode" runat="server" MaxLength="50" OnTextChanged="cmbCustomerCode_OnTextChanged"
                                                                        AutoPostBack="true" Width="200px"></asp:TextBox>
                                                                    <cc1:AutoCompleteExtender ID="AutoCompleteExtenderDemo" runat="server" TargetControlID="cmbCustomerCode"
                                                                        ServiceMethod="GetCustomerList" MinimumPrefixLength="1" CompletionSetCount="20"
                                                                        DelimiterCharacters="" Enabled="True" ServicePath="">
                                                                    </cc1:AutoCompleteExtender>
                                                                    <cc1:TextBoxWatermarkExtender ID="TextBoxWatermarkExtender1" runat="server" TargetControlID="cmbCustomerCode"
                                                                        WatermarkText="--All Customers--">
                                                                    </cc1:TextBoxWatermarkExtender>
                                                                    <asp:RequiredFieldValidator ID="rfvCustomerCode" runat="server" ErrorMessage="Select Customer Name"
                                                                        SetFocusOnError="False" ControlToValidate="cmbCustomerCode" ValidationGroup="Main Page"
                                                                        Display="None"></asp:RequiredFieldValidator>
                                                                    <%--<a href="#" id="lnkCreate" runat="server">--%>
                                                                    <asp:Button ID="btnCreateCustomer" runat="server" Text="Create Customer" CssClass="styleSubmitButton"
                                                                        CausesValidation="False" UseSubmitBehavior="False" /><%--</a>--%></asp:Panel>
                                                                <input id="hdnCustID" type="hidden" runat="server" />
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblEnquiryNumber" Visible="false" runat="server" Text="Enquiry Number"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:DropDownList ID="ddlEnquiryNumber" Visible="false" runat="server" AutoPostBack="True"
                                                                    OnSelectedIndexChanged="ddlEnquiryNumber_SelectedIndexChanged">
                                                                </asp:DropDownList>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblSanctionNumber" Visible="false" runat="server" Text="Sanction Number"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:DropDownList ID="ddlSanctionNumber" Visible="false" runat="server" AutoPostBack="True"
                                                                    OnSelectedIndexChanged="ddlSanctionNumber_SelectedIndexChanged">
                                                                </asp:DropDownList>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <table width="100%">
                                                    <tr>
                                                        <td width="50%">
                                                            <asp:Panel ID="pnlCustomerInformation" GroupingText="Customer Information" runat="server"
                                                                CssClass="stylePanel" Height="100%">
                                                                <table width="100%" align="center">
                                                                    <tr>
                                                                        <td width="100%">
                                                                            <uc1:S3GCustomerAddress ID="S3GCustomerCommAddress" runat="server" ShowCustomerCode="false"
                                                                                showcusomername="false" FirstColumnStyle="styleFieldLabel" SecondColumnStyle="styleFieldAlign" />
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </asp:Panel>
                                                        </td>
                                                        <td width="50%" valign="top">
                                                            <asp:Panel ID="Panel1" GroupingText="Offer Information" runat="server" CssClass="stylePanel">
                                                                <table width="100%">
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblEnquiryDate" Visible="false" runat="server" Text="Enquiry Date"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtEnquiryDate" Visible="false" runat="server" Width="100px" TabIndex="-1"
                                                                                ReadOnly="True"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblSanctionDate" Visible="false" runat="server" Text="Sanction Date"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtSanctionDate" Visible="false" TabIndex="-1" runat="server" Width="100px"
                                                                                ReadOnly="True"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblOfferNo" runat="server" Text="Business Offer Number"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtOfferNo" runat="server" Width="130px" TabIndex="-1" ReadOnly="True"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblOfferDate" runat="server" Text="Offer Date"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtOfferDate" runat="server" Width="100px" TabIndex="-1" ReadOnly="false"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblFacilityAmt" runat="server" Text="Facility Amount" CssClass="styleReqFieldLabel"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtFacilityAmt" runat="server" Width="100px" MaxLength="10" ValidationGroup="Pricing"
                                                                                AutoPostBack="true" OnTextChanged="txtFacilityAmt_TextChanged"></asp:TextBox>
                                                                            <cc1:FilteredTextBoxExtender ID="ftextExtxtFacilityAmt" runat="server" FilterType="Numbers"
                                                                                TargetControlID="txtFacilityAmt">
                                                                            </cc1:FilteredTextBoxExtender>
                                                                            <%-- <cc1:MaskedEditExtender Mask="9999999999" MaskType="Number" TargetControlID="txtFacilityAmt"
                                                                            runat="server" ID="mskFacilityAmt" Enabled="True" ErrorTooltipEnabled="True"
                                                                            InputDirection="RightToLeft" CultureAMPMPlaceholder="" CultureCurrencySymbolPlaceholder=""
                                                                            CultureDateFormat="" CultureDatePlaceholder="" CultureDecimalPlaceholder="" CultureThousandsPlaceholder=""
                                                                            CultureTimePlaceholder="" AutoComplete="false">
                                                                        </cc1:MaskedEditExtender>--%>
                                                                            <asp:RequiredFieldValidator ID="rfvFacilityAmount" runat="server" ValidationGroup="Main Page"
                                                                                ErrorMessage="Enter the Facility Amount" SetFocusOnError="False" ControlToValidate="txtFacilityAmt"
                                                                                Display="None"></asp:RequiredFieldValidator>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblLoan_Type" runat="server" Text="Loan Type"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:DropDownList ID="ddlLoan_Type" runat="server">
                                                                            </asp:DropDownList>
                                                                            <asp:RequiredFieldValidator ID="rfvLoan_Type" runat="server" Display="None" ValidationGroup="Main Page"
                                                                                ErrorMessage="Select Loan Type" ControlToValidate="ddlLoan_Type" SetFocusOnError="False"
                                                                                InitialValue="0"></asp:RequiredFieldValidator>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblOfferValidTill" runat="server" Text="Offer valid till" CssClass="styleReqFieldLabel"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtOfferValidTill" runat="server" Width="100px" ValidationGroup="Pricing"></asp:TextBox>
                                                                            <asp:Image ID="imgCalValidpDate" runat="server" ImageUrl="~/Images/calendaer.gif" />
                                                                            <asp:RequiredFieldValidator ID="rfvOffervalidtill" runat="server" Display="None"
                                                                                ValidationGroup="Main Page" ErrorMessage="Enter the Offer valid till" ControlToValidate="txtOfferValidTill"
                                                                                SetFocusOnError="False"></asp:RequiredFieldValidator>
                                                                            <cc1:CalendarExtender runat="server" Format="dd/MM/yyyy" OnClientDateSelectionChanged="checkDate_PrevSystemDate"
                                                                                TargetControlID="txtOfferValidTill" PopupButtonID="imgCalValidpDate" ID="calExeOfferValidTill"
                                                                                Enabled="True">
                                                                            </cc1:CalendarExtender>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblRoundNum" runat="server" Text="Round No"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:TextBox ID="lblRoundNo" runat="server" Text="0" ReadOnly="true" Width="35px"
                                                                                Style="text-align: right" MaxLength="2"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </asp:Panel>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <%--<tr>
                                                        <td class="styleFieldLabel">
                                                            <asp:Label ID="lblCustomerAddress" runat="server" Text="Customer Address"></asp:Label>
                                                        </td>
                                                        <td class="styleFieldAlign" colspan="3">
                                                            <!--class="styleFieldAlign"!-->
                                                            <asp:TextBox ID="txtCustomerAddresstem" runat="server" TextMode="MultiLine" Width="300px"
                                                                ReadOnly="True"></asp:TextBox>
                                                        </td>
                                                    </tr>--%>
                                        <%-- </table>
                                    </td> </tr>--%>
                                        <tr>
                                            <td>
                                                <asp:Panel runat="server" ID="panOtherDetails" CssClass="stylePanel" GroupingText="Other Details">
                                                    <table width="100%">
                                                        <tr>
                                                            <td class="styleFieldLabel" style="width: 17%">
                                                                <asp:Label ID="lblLob" runat="server" Text="Line Of Business" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign" style="width: 33%">
                                                                <asp:DropDownList ID="ddlLob" Width="200px" runat="server" AutoPostBack="True" OnSelectedIndexChanged="ddlLob_SelectedIndexChanged"
                                                                    ValidationGroup="Pricing">
                                                                </asp:DropDownList>
                                                                <asp:RequiredFieldValidator ID="rfvLOB" runat="server" Display="None" ValidationGroup="Main Page"
                                                                    ErrorMessage="Select Line Of Business" ControlToValidate="ddlLob" SetFocusOnError="False"
                                                                    InitialValue="0"></asp:RequiredFieldValidator>
                                                            </td>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblAccIRR" runat="server" Text="Accounting IRR" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtAccIRR" runat="server" Width="100px" TabIndex="-1" Style="text-align: right"></asp:TextBox>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblBranch" runat="server" Text="Location" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:DropDownList ID="ddlBranch" Width="200px" runat="server" OnSelectedIndexChanged="ddlBranch_SelectedIndexChanged">
                                                                </asp:DropDownList>
                                                                <asp:RequiredFieldValidator ID="rfvBranch" runat="server" Display="None" ValidationGroup="Main Page"
                                                                    ErrorMessage="Select Location" ControlToValidate="ddlBranch" SetFocusOnError="False"
                                                                    InitialValue="0"></asp:RequiredFieldValidator>
                                                            </td>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblBussinessIRR" runat="server" Text="Business IRR" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtBusinessIRR" runat="server" TabIndex="-1" Width="100px" Style="text-align: right"></asp:TextBox>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblProduct" runat="server" Text="Product" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:DropDownList ID="ddlProduct" Width="200px" runat="server" AutoPostBack="True"
                                                                    OnSelectedIndexChanged="ddlProduct_SelectedIndexChanged" ValidationGroup="Pricing">
                                                                </asp:DropDownList>
                                                                <asp:RequiredFieldValidator ID="rfvProduct" runat="server" Display="None" ValidationGroup="Main Page"
                                                                    ErrorMessage="Select Product" ControlToValidate="ddlProduct" SetFocusOnError="False"
                                                                    InitialValue="0"></asp:RequiredFieldValidator>
                                                            </td>
                                                            <td class="styleFieldLabel" style="width: 25%">
                                                                <asp:Label ID="lblCompanyIrr" runat="server" Text="Company IRR" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtCompanyIRR" runat="server" TabIndex="-1" Width="100px" Style="text-align: right"></asp:TextBox>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="lblTenure" runat="server" Text="Tenure/Tenure type" CssClass="styleReqFieldLabel"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtTenure" runat="server" Width="50px" MaxLength="3" ValidationGroup="Main Page"
                                                                    onblur="ChkIsZero(this,'Tenure')" onchange="FunRestIrr();" Style="text-align: right"></asp:TextBox>
                                                                <cc1:FilteredTextBoxExtender ID="ftextExtxtTenure" runat="server" FilterType="Numbers"
                                                                    TargetControlID="txtTenure">
                                                                </cc1:FilteredTextBoxExtender>
                                                                <asp:DropDownList ID="ddlTenureType" runat="server">
                                                                </asp:DropDownList>
                                                            </td>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label ID="Label1" runat="server" Text="Print Quote" Visible="false"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:CheckBox ID="chkDocwithRepaymentPrint" runat="server" Text="Print" AutoPostBack="true"
                                                                    OnCheckedChanged="chkDocwithRepaymentPrint_OnCheckedChanged" Visible="false" />
                                                                <asp:CheckBox ID="chkEmail" runat="server" Text="Email" Visible="false" />
                                                            </td>
                                                            <td>
                                                                <asp:RequiredFieldValidator ID="rfvtxtTenure" runat="server" Display="None" ValidationGroup="Main Page"
                                                                    ErrorMessage="Enter Tenure" ControlToValidate="txtTenure" SetFocusOnError="False"></asp:RequiredFieldValidator>
                                                                <%-- <asp:TextBox ID="txtTenureType" runat="server"></asp:TextBox>
                                                                        <cc1:NumericUpDownExtender ID="numddlextnTenureType" RefValues="Months;Weeks;Days"
                                                                            Width="100" TargetControlID="txtTenureType" runat="server" Enabled="True" Tag=""
                                                                            TargetButtonDownID="" TargetButtonUpID="" Maximum="1.7976931348623157E+308" Minimum="-1.7976931348623157E+308"
                                                                            ServiceDownMethod="" ServiceDownPath="" ServiceUpMethod="">
                                                                        </cc1:NumericUpDownExtender>--%>
                                                            </td>
                                                            <td>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <asp:Panel ID="panPastOffers" runat="server" CssClass="popupMenu">
                                                    <div style="border: 1px outset white; display: block">
                                                        <asp:GridView ID="grvPastOffers" runat="server" Caption="Previous Offers" CaptionAlign="Top">
                                                        </asp:GridView>
                                                    </div>
                                                </asp:Panel>
                                                <cc1:HoverMenuExtender ID="hvPastoffers" runat="server" HoverCssClass="popupHover"
                                                    PopupControlID="panPastOffers" PopupPosition="Bottom" TargetControlID="cmbCustomerCode"
                                                    PopDelay="25" Enabled="false">
                                                </cc1:HoverMenuExtender>
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel runat="server" ID="TabOfferTerms" HeaderText="TabOfferTerms" CssClass="tabpan"
                        BackColor="Red" Width="99%">
                        <HeaderTemplate>
                            Offer Terms&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel3" runat="server">
                                <ContentTemplate>
                                    <%--                        <hr />--%>
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td width="100%" class="styleContentTable">
                                                <asp:Panel ID="divRoiRules" runat="server" CssClass="accordionHeader" Width="98.5%">
                                                    <div style="float: left;">
                                                        ROI/Payment Rule Card details</div>
                                                    <div style="float: left; margin-left: 20px;">
                                                        <asp:Label ID="lblDetails" runat="server">(Show Details...)</asp:Label>
                                                    </div>
                                                    <div style="float: right; vertical-align: middle;">
                                                        <asp:ImageButton ID="imgDetails" runat="server" ImageUrl="~/Images/expand_blue.jpg"
                                                            AlternateText="(Show Details...)" />
                                                    </div>
                                                </asp:Panel>
                                                <asp:Panel ID="divROIRuleInfo" Style="width: 100%" runat="server">
                                                    <table width="100%">
                                                        <tr>
                                                            <td width="50%">
                                                                <table cellpadding="0" cellspacing="0" border="0" style="width: 100%">
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblROIRuleList" runat="server" CssClass="styleReqFieldLabel" Text="ROI Rule"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:DropDownList ID="ddlROIRuleList" runat="server" onchange="FunRestIrr();">
                                                                            </asp:DropDownList>
                                                                            <asp:RequiredFieldValidator ID="rfvddlROIRuleList" runat="server" ControlToValidate="ddlROIRuleList"
                                                                                CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False" InitialValue="0"
                                                                                ErrorMessage="Select a ROI rule from the list" ValidationGroup="Offer Terms"></asp:RequiredFieldValidator>
                                                                        </td>
                                                                        <td>
                                                                            <asp:Button ID="btnFetchROI" Text="Go" runat="server" CssClass="styleSubmitShortButton"
                                                                                OnClientClick="return FunddlRoiOnChange('ROI')" OnClick="btnFetchROI_Click" Style="display: block" />
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                            <td width="50%">
                                                                <table cellpadding="0" cellspacing="0" border="0" style="width: 100%">
                                                                    <tr>
                                                                        <td class="styleFieldLabel">
                                                                            <asp:Label ID="lblPaymentRuleList" runat="server" CssClass="styleReqFieldLabel" Text="Payment Rule"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:DropDownList ID="ddlPaymentRuleList" runat="server">
                                                                            </asp:DropDownList>
                                                                            <asp:RequiredFieldValidator ID="rfvddlPaymentRuleList" runat="server" ControlToValidate="ddlPaymentRuleList"
                                                                                CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False" InitialValue="0"
                                                                                ErrorMessage="Select a Payment rule from the list" ValidationGroup="Offer Terms"></asp:RequiredFieldValidator>
                                                                        </td>
                                                                        <td>
                                                                            <asp:Button ID="btnFetchPayment" runat="server" CssClass="styleSubmitShortButton"
                                                                                OnClick="btnFetchPayment_Click" Text="Go" Style="display: block" OnClientClick="return FunddlRoiOnChange('Payment')" />
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                    <table width="100%">
                                                        <tr>
                                                            <td width="100%" valign="top">
                                                                <div id="div7" style="width: 100%" runat="server">
                                                                    <asp:Panel runat="server" ID="Panel7" ScrollBars="Auto" CssClass="stylePanel" GroupingText="ROI Rule"
                                                                        Width="99%">
                                                                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                                                            <tr>
                                                                                <td width="50%" valign="top">
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                                                                        <tr>
                                                                                            <th align="center">
                                                                                                Field Name
                                                                                            </th>
                                                                                            <th align="center">
                                                                                                Field Value
                                                                                            </th>
                                                                                        </tr>
                                                                                        <tr id="tr_lblROI_Rule_Number" runat="server">
                                                                                            <td id="Td7" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblROI_Rule_Number" runat="server" CssClass="styleDisplayLabel" Text="ROI Rule Number"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td8" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_ROI_Rule_Number" runat="server" ReadOnly="True" Style="width: 145px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRate_Type" runat="server">
                                                                                            <td id="Td1" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRate_Type" runat="server" CssClass="styleDisplayLabel" Text="Rate Type"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td6" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Rate_Type" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblSerial_Number" runat="server" visible="false">
                                                                                            <td id="Td2" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblSerial_Number" runat="server" CssClass="styleDisplayLabel" Text="Serial Number"
                                                                                                    Visible="false"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td3" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Serial_Number" runat="server" ReadOnly="True" Style="width: 145px"
                                                                                                    Visible="false"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblModel_Description" runat="server">
                                                                                            <td id="Td4" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblModel_Description" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Model Description"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td5" runat="server" class="styleFieldAlign" style="margin-left: 40px">
                                                                                                <asp:TextBox ID="txt_Model_Description" runat="server" ReadOnly="True" Style="width: 145px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblReturn_Pattern" runat="server">
                                                                                            <td id="Td9" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblReturn_Pattern" runat="server" CssClass="styleDisplayLabel" Text="Return Pattern"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td10" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Return_Pattern" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblTime_Value" runat="server">
                                                                                            <td id="Td11" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblTime_Value" runat="server" CssClass="styleDisplayLabel" Text="Time"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td12" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Time_Value" runat="server" onchange="FunRestIrr();" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                                <asp:RequiredFieldValidator ID="rfvTimeValue" runat="server" ControlToValidate="ddl_Time_Value"
                                                                                                    CssClass="styleMandatoryLabel" Display="None" ErrorMessage="Select a Time Value from the list"
                                                                                                    InitialValue="0" SetFocusOnError="False" ValidationGroup="Offer Terms">
                                                                                                </asp:RequiredFieldValidator>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblFrequency" runat="server">
                                                                                            <td id="Td13" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblFrequency" runat="server" CssClass="styleDisplayLabel" Text="Frequency"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td14" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Frequency" runat="server" onchange="FunRestIrr();" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                                <asp:RequiredFieldValidator ID="rfvFrequency" runat="server" ControlToValidate="ddl_Frequency"
                                                                                                    CssClass="styleMandatoryLabel" Display="None" ErrorMessage="Select a Frequency from the list"
                                                                                                    InitialValue="0" SetFocusOnError="False" ValidationGroup="Offer Terms"></asp:RequiredFieldValidator>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRepayment_Mode" runat="server">
                                                                                            <td id="Td15" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRepayment_Mode" runat="server" CssClass="styleDisplayLabel" Text="Repayment Mode"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td16" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Repayment_Mode" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRate" runat="server">
                                                                                            <td id="Td17" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRate" runat="server" CssClass="styleDisplayLabel" Text="Rate"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td18" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txtRate" runat="server" onchange="FunRestIrr();" onkeypress="fnAllowNumbersOnly(true,false,this)"
                                                                                                    Width="70px"></asp:TextBox>
                                                                                                <asp:RequiredFieldValidator ID="rfvRate" runat="server" ControlToValidate="txtRate"
                                                                                                    CssClass="styleMandatoryLabel" Display="None" ErrorMessage="Enter the rate" SetFocusOnError="False"
                                                                                                    ValidationGroup="Offer Terms"></asp:RequiredFieldValidator>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblResidual_Value" runat="server">
                                                                                            <td id="Td35" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblResidual_Value" runat="server" CssClass="styleDisplayLabel" Text="Residual Value"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td36" runat="server" class="styleFieldAlign">
                                                                                                <asp:CheckBox ID="chk_lblResidual_Value" runat="server" />
                                                                                            </td>
                                                                                        </tr>
                                                                                    </table>
                                                                                </td>
                                                                                <td width="50%">
                                                                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                                                                        <tr>
                                                                                            <th align="center">
                                                                                                Field Name
                                                                                            </th>
                                                                                            <th align="center">
                                                                                                Field Value
                                                                                            </th>
                                                                                        </tr>
                                                                                        <tr id="tr_lblIRR_Rest" runat="server">
                                                                                            <td id="Td19" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblIRR_Rest" runat="server" CssClass="styleDisplayLabel" Text="IRR Rest"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td20" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_IRR_Rest" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblInterest_Calculation" runat="server">
                                                                                            <td id="Td21" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblInterest_Calculation" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Interest Calculation"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td22" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Interest_Calculation" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblInterest_Levy" runat="server">
                                                                                            <td id="Td23" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblInterest_Levy" runat="server" CssClass="styleDisplayLabel" Text="Interest Levy"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td24" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Interest_Levy" runat="server" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRecovery_Pattern_Year1" runat="server">
                                                                                            <td id="Td25" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRecovery_Pattern_Year1" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Recovery Pattern Year1"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td26" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Recovery_Pattern_Year1" runat="server" Style="width: 70px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRecovery_Pattern_Year2" runat="server">
                                                                                            <td id="Td27" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRecovery_Pattern_Year2" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Recovery Pattern Year2"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td28" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Recovery_Pattern_Year2" runat="server" Style="width: 70px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRecovery_Pattern_Year3" runat="server">
                                                                                            <td id="Td29" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRecovery_Pattern_Year3" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Recovery Pattern Year3"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td30" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Recovery_Pattern_Year3" runat="server" Style="width: 70px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblRecovery_Pattern_Rest" runat="server">
                                                                                            <td id="Td31" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblRecovery_Pattern_Rest" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Recovery Pattern Year Rest"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td32" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Recovery_Pattern_Rest" runat="server" Style="width: 70px"></asp:TextBox>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblInsurance" runat="server">
                                                                                            <td id="Td33" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblInsurance" runat="server" CssClass="styleDisplayLabel" Text="Insurance"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td34" runat="server" class="styleFieldAlign">
                                                                                                <asp:DropDownList ID="ddl_Insurance" runat="server" onchange="FunRestIrr();" Width="150px">
                                                                                                </asp:DropDownList>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblMargin" runat="server">
                                                                                            <td id="Td37" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblMargin" runat="server" CssClass="styleDisplayLabel" Text="Margin"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td38" runat="server" class="styleFieldAlign">
                                                                                                <asp:CheckBox ID="chk_lblMargin" runat="server" />
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr id="tr_lblMargin_Percentage" runat="server">
                                                                                            <td id="Td39" runat="server" class="styleFieldLabel">
                                                                                                <asp:Label ID="lblMargin_Percentage" runat="server" CssClass="styleDisplayLabel"
                                                                                                    Text="Margin Percentage"></asp:Label>
                                                                                            </td>
                                                                                            <td id="Td40" runat="server" class="styleFieldAlign">
                                                                                                <asp:TextBox ID="txt_Margin_Percentage" runat="server" AutoPostBack="True" onchange="FunRestIrr();"
                                                                                                    onkeypress="fnAllowNumbersOnly(true,false,this)" OnTextChanged="txt_Margin_Percentage_TextChanged"
                                                                                                    Style="width: 70px"></asp:TextBox>
                                                                                                <asp:RequiredFieldValidator ID="rfvMarginPercent" runat="server" ControlToValidate="txt_Margin_Percentage"
                                                                                                    CssClass="styleMandatoryLabel" Display="None" ErrorMessage="Enter the Margin Percentage"
                                                                                                    SetFocusOnError="False" ValidationGroup="Offer Terms"></asp:RequiredFieldValidator>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </table>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </asp:Panel>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td valign="top" width="100%">
                                                                <div id="div8" style="width: 100%" runat="server">
                                                                    <asp:Panel runat="server" ID="Panel9" ScrollBars="Auto" CssClass="stylePanel" GroupingText="Payment Rule"
                                                                        Width="99%">
                                                                        <asp:GridView ID="gvPaymentRuleDetails" runat="server" Width="100%">
                                                                        </asp:GridView>
                                                                    </asp:Panel>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </asp:Panel>
                                                <cc1:CollapsiblePanelExtender ID="cpeDemo" runat="Server" TargetControlID="divROIRuleInfo"
                                                    ExpandControlID="divRoiRules" CollapseControlID="divRoiRules" Collapsed="True"
                                                    TextLabelID="lblDetails" ImageControlID="imgDetails" ExpandedText="(Hide Details...)"
                                                    CollapsedText="(Show Details...)" ExpandedImage="~/Images/collapse_blue.jpg"
                                                    CollapsedImage="~/Images/expand_blue.jpg" SuppressPostBack="true" SkinID="CollapsiblePanelDemo" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <table width="98%" border="0">
                                                    <tr>
                                                        <td class="styleFieldLabel" width="12%">
                                                            <asp:Label ID="lblResidualValue_Cashflow" runat="server" CssClass="styleDisplayLabel"
                                                                Text="Residual%"></asp:Label>
                                                        </td>
                                                        <td class="styleFieldAlign" width="12%">
                                                            <asp:TextBox ID="txtResidualValue_Cashflow" runat="server" Style="text-align: right;
                                                                width: 70px" OnTextChanged="txtResidualValue_Cashflow_TextChanged" AutoPostBack="true"
                                                                onchange="FunRestIrr();"></asp:TextBox>
                                                            <cc1:FilteredTextBoxExtender ID="ftxtResidualPercentage" runat="server" TargetControlID="txtResidualValue_Cashflow"
                                                                FilterType="Custom,Numbers" Enabled="True" ValidChars=".">
                                                            </cc1:FilteredTextBoxExtender>
                                                            <asp:RequiredFieldValidator ID="rfvResidualValue" runat="server" ControlToValidate="txtResidualValue_Cashflow"
                                                                CssClass="styleMandatoryLabel" Display="None" ValidationGroup="Offer Terms" ErrorMessage="Enter the Residual % or Amount"
                                                                Enabled="false"></asp:RequiredFieldValidator>
                                                        </td>
                                                        <td class="styleFieldLabel" width="12%">
                                                            <asp:Label ID="lblResidualAmt_Cashflow" runat="server" CssClass="styleDisplayLabel"
                                                                Text="Amount"></asp:Label>
                                                        </td>
                                                        <td class="styleFieldAlign" width="14%">
                                                            <asp:TextBox ID="txtResidualAmt_Cashflow" runat="server" MaxLength="7" Style="text-align: right;
                                                                width: 120px" OnTextChanged="txtResidualAmt_Cashflow_TextChanged" AutoPostBack="true"
                                                                onchange="FunRestIrr();"></asp:TextBox>
                                                            <cc1:FilteredTextBoxExtender ID="FtexResidualAmt_Cashflow" runat="server" TargetControlID="txtResidualAmt_Cashflow"
                                                                FilterType="Custom,Numbers" Enabled="True" ValidChars=".">
                                                            </cc1:FilteredTextBoxExtender>
                                                        </td>
                                                        <td width="12%" class="styleFieldLabel">
                                                            <asp:Label ID="lblMarginMoneyPer_Cashflow" runat="server" CssClass="styleDisplayLabel"
                                                                Text="Margin%"></asp:Label>
                                                        </td>
                                                        <td class="styleFieldAlign" width="12%">
                                                            <asp:TextBox ID="txtMarginMoneyPer_Cashflow" runat="server" Style="text-align: right;
                                                                width: 70px" OnTextChanged="txt_Margin_Percentage_TextChanged" AutoPostBack="true"></asp:TextBox>
                                                            <cc1:FilteredTextBoxExtender ID="ftxtMarginPercentage" runat="server" TargetControlID="txtMarginMoneyPer_Cashflow"
                                                                FilterType="Custom,Numbers" Enabled="True" ValidChars=".">
                                                            </cc1:FilteredTextBoxExtender>
                                                        </td>
                                                        <td class="styleFieldLabel" width="12%">
                                                            <asp:Label ID="lblMarginMoneyAmount_Cashflow" runat="server" CssClass="styleDisplayLabel"
                                                                Text="Amount"></asp:Label>
                                                        </td>
                                                        <td width="14%" class="styleFieldAlign">
                                                            <asp:TextBox ID="txtMarginMoneyAmount_Cashflow" runat="server" MaxLength="7" Style="text-align: right;
                                                                width: 120px"></asp:TextBox>
                                                            <cc1:FilteredTextBoxExtender ID="FtexMarginMoneyAmount_Cashflow" runat="server" TargetControlID="txtMarginMoneyAmount_Cashflow"
                                                                FilterType="Custom,Numbers" Enabled="True" ValidChars=".">
                                                            </cc1:FilteredTextBoxExtender>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <asp:HiddenField ID="hdnROIRule" runat="server" />
                                                <asp:HiddenField ID="hdnPayment" runat="server" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="100%">
                                                <asp:Panel ID="panInflow" runat="server" CssClass="stylePanel" GroupingText="Cash Inflow details"
                                                    Width="98%">
                                                    <div style="overflow: auto; width: 98%; padding-left: 1%;">
                                                        <br />
                                                        <asp:GridView ID="gvInflow" runat="server" AutoGenerateColumns="False" OnRowDeleting="gvInflow_RowDeleting"
                                                            ShowFooter="True" OnRowCreated="gvInflow_RowCreated" Width="100%">
                                                            <Columns>
                                                                <asp:TemplateField HeaderText="Date" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblDate_GridInflow" runat="server" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Date")).ToString(strDateFormat) %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtDate_GridInflow" runat="server" Width="100%">
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="CalendarExtenderSD_InflowDate" runat="server" Enabled="True"
                                                                            TargetControlID="txtDate_GridInflow" OnClientDateSelectionChanged="checkOfferDate">
                                                                            <%--OnClientDateSelectionChanged="checkDate_PrevSystemDate" --%>
                                                                        </cc1:CalendarExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtDate_GridInflow" runat="server" ControlToValidate="txtDate_GridInflow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms1"
                                                                            ErrorMessage="Enter the Date in Inflow"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Cash flow Id" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblInflowid" runat="server" Text='<%# Bind("CashInFlowID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Cash flow Description" ItemStyle-Width="25%" FooterStyle-Width="25%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblInflowDesc" runat="server" Text='<%# Bind("CashInFlow") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlInflowDesc" runat="server" Width="100%">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlInflowDesc" runat="server" ControlToValidate="ddlInflowDesc"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms1"
                                                                            SetFocusOnError="False" InitialValue="-1" ErrorMessage="Select a Cash Inflow"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="In flow from" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblInflowFrom" runat="server" Text='<%# Bind("InflowFrom") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlEntityName_InFlowFrom" runat="server" AutoPostBack="True"
                                                                            OnSelectedIndexChanged="ddlEntityName_InFlowFrom_SelectedIndexChanged" Width="100%">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlEntityName_InFlowFrom" runat="server" ControlToValidate="ddlEntityName_InFlowFrom"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms1"
                                                                            SetFocusOnError="False" InitialValue="-1" ErrorMessage="Select Inflow type"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="In flow from ID" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblInflowFromId" runat="server" Text='<%# Bind("InflowFromID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Entity ID" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblEntityID_InFlow" runat="server" Text='<%# Bind("EntityID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Customer Name" ItemStyle-Width="25%" FooterStyle-Width="25%">
                                                                    <HeaderTemplate>
                                                                        <asp:Label ID="lblHeading" runat="server" Text="Customer/Entity Name"></asp:Label>
                                                                    </HeaderTemplate>
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblEntityName_InFlow" runat="server" Text='<%# Bind("Entity") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlEntityName_InFlow" runat="server" Width="100%">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlEntityName_InFlow" runat="server" ControlToValidate="ddlEntityName_InFlow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms1"
                                                                            SetFocusOnError="False" InitialValue="0" ErrorMessage="Select a Inflow Entity/Customer name"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Amount" ItemStyle-Width="15%" FooterStyle-Width="15%"
                                                                    ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblAmount_Inflow" runat="server" Text='<%# Bind("Amount") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtAmount_Inflow" runat="server" MaxLength="10" Width="97%">
                                                                        </asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="ftextExtxtAmount_Inflow" runat="server" FilterType="Numbers"
                                                                            TargetControlID="txtAmount_Inflow">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtAmount_Inflow" runat="server" ControlToValidate="txtAmount_Inflow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms1"
                                                                            SetFocusOnError="False" ErrorMessage="Enter the Inflow amount"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField ItemStyle-Width="15%" FooterStyle-Width="15%">
                                                                    <ItemStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                    <FooterStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton ID="lnRemove" runat="server" CausesValidation="false" CommandName="Delete"
                                                                            Text="Remove"></asp:LinkButton>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <%--                                                            <asp:LinkButton ID="LbtnAddCashFlow" runat="server" CausesValidation="true" 
                                                                Text="Add" ValidationGroup="TabOfferTerms" ForeColor="#FFFFFF"> </asp:LinkButton>--%>
                                                                        <asp:Button ID="btnAdd" runat="server" Text="Add" ValidationGroup="TabOfferTerms1"
                                                                            OnClick="CashInflow_AddRow_OnClick" CssClass="styleGridShortButton" OnClientClick="return fnCheckPageValidators('TabOfferTerms1',false)" />
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation--%>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblAccountingIRR" runat="server" Text='<%# Bind("Accounting_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblBusinessIRR" runat="server" Text='<%# Bind("Business_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblComapnyIRR" runat="server" Text='<%# Bind("Company_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCashFlow_Flag_ID" runat="server" Text='<%# Bind("CashFlow_Flag_ID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation Ends--%>
                                                            </Columns>
                                                        </asp:GridView>
                                                        <br />
                                                    </div>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <asp:Panel runat="server" CssClass="stylePanel" GroupingText="Cash Outflow details"
                                                    Width="98%">
                                                    <div style="overflow: auto; width: 98%; padding-left: 1%;">
                                                        <br />
                                                        <asp:GridView ID="gvOutFlow" runat="server" AutoGenerateColumns="False" OnRowDeleting="gvOutFlow_RowDeleting"
                                                            ShowFooter="True" OnRowCreated="gvOutFlow_RowCreated" Width="100%">
                                                            <Columns>
                                                                <asp:TemplateField HeaderText="Date" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblDate_GridOutflow" runat="server" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Date")).ToString(strDateFormat) %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtDate_GridOutflow" runat="server" Width="100%">
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="CalendarExtenderSD_OutflowDate" runat="server" Enabled="True"
                                                                            TargetControlID="txtDate_GridOutflow" OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate">
                                                                            <%-- --%>
                                                                        </cc1:CalendarExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtDate_GridOutflow" runat="server" ControlToValidate="txtDate_GridOutflow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms2"
                                                                            ErrorMessage="Enter the Outflow Date"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="10%" />
                                                                    <ItemStyle Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Cash flow Id" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblOutflowid" runat="server" Text='<%# Bind("CashOutFlowID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Cash flow Description" ItemStyle-Width="25%" FooterStyle-Width="25%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblOutflowDesc" runat="server" Text='<%# Bind("CashOutFlow") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlOutflowDesc" runat="server" Width="100%">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlOutflowDesc" runat="server" ControlToValidate="ddlOutflowDesc"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms2"
                                                                            SetFocusOnError="False" InitialValue="-1" ErrorMessage="Select Cash Outflow"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="25%" />
                                                                    <ItemStyle Width="25%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Payement to ID" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblPayementToId" runat="server" Text='<%# Bind("OutflowFromID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Payment to" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblPaymentto" runat="server" Text='<%# Bind("OutflowFrom") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlPaymentto_OutFlow" runat="server" Width="100%" AutoPostBack="True"
                                                                            OnSelectedIndexChanged="ddlPaymentto_OutFlow_SelectedIndexChanged">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlPaymentto_OutFlow" runat="server" ControlToValidate="ddlPaymentto_OutFlow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms2"
                                                                            SetFocusOnError="False" InitialValue="-1" ErrorMessage="Select Payment to"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="10%" />
                                                                    <ItemStyle Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Entity ID" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblEntityID_OutFlow" runat="server" Text='<%# Bind("EntityID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Entity Name" ItemStyle-Width="25%" FooterStyle-Width="25%">
                                                                    <HeaderTemplate>
                                                                        <asp:Label ID="lblHeading" runat="server" Text="Customer/Entity Name"></asp:Label>
                                                                    </HeaderTemplate>
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblEntityName_OutFlow" runat="server" Text='<%# Bind("Entity") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlEntityName_OutFlow" runat="server" Width="100%">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlEntityName_OutFlow" runat="server" ControlToValidate="ddlEntityName_OutFlow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms2"
                                                                            SetFocusOnError="False" InitialValue="0" ErrorMessage="Select Outflow Entity Name"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Amount" ItemStyle-Width="15%" FooterStyle-Width="15%">
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                    <FooterStyle HorizontalAlign="Center" />
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblAmount_Outflow" runat="server" Text='<%# Bind("Amount") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtAmount_Outflow" runat="server" MaxLength="10" Width="97%">
                                                                        </asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="ftextExtxtAmount_Outflow" runat="server" FilterType="Numbers"
                                                                            TargetControlID="txtAmount_Outflow">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtAmount_Outflow" runat="server" ControlToValidate="txtAmount_Outflow"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabOfferTerms2"
                                                                            SetFocusOnError="False" ErrorMessage="Enter the Outflow amount"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="15%" />
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField ItemStyle-Width="15%" FooterStyle-Width="15%">
                                                                    <ItemStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                    <FooterStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton ID="lnRemove" runat="server" CausesValidation="false" CommandName="Delete"
                                                                            Text="Remove"></asp:LinkButton>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:Button ID="btnAddOut" runat="server" Text="Add" ValidationGroup="TabOfferTerms2"
                                                                            OnClick="CashOutflow_AddRow_OnClick" CssClass="styleGridShortButton" OnClientClick="return fnCheckPageValidators('TabOfferTerms2',false)" />
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation--%>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblAccountingIRR" runat="server" Text='<%# Bind("Accounting_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblBusinessIRR" runat="server" Text='<%# Bind("Business_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblComapnyIRR" runat="server" Text='<%# Bind("Company_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCashFlow_Flag_ID" runat="server" Text='<%# Bind("CashFlow_Flag_ID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation Ends--%>
                                                            </Columns>
                                                        </asp:GridView>
                                                        <br />
                                                    </div>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr style="width: 98%">
                                            <td align="right">
                                                <asp:Label ID="lblTotal" runat="server" Text="Total Out flow Amount :" Font-Bold="True"></asp:Label>
                                                <asp:Label ID="lblTotalOutFlowAmount" runat="server" Font-Bold="True" Text="0"></asp:Label>
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel ID="TabAssetDetails" runat="server" HeaderText="TabAssetDetails" BackColor="Red"
                        CssClass="tabpan">
                        <HeaderTemplate>
                            Asset Details&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel4" runat="server">
                                <ContentTemplate>
                                    <table cellpadding="0" cellspacing="0" style="width: 99%">
                                        <tr align="center">
                                            <td colspan="2">
                                                <asp:RadioButtonList ID="rdnlAssetType" runat="server" RepeatDirection="Horizontal"
                                                    AutoPostBack="True" OnSelectedIndexChanged="rdnlAssetType_SelectedIndexChanged">
                                                    <asp:ListItem Text="Lease New Purchase" Value="0" Selected="True"></asp:ListItem>
                                                    <asp:ListItem Text="Lease Own Assets" Value="1"></asp:ListItem>
                                                </asp:RadioButtonList>
                                            </td>
                                        </tr>
                                        <tr>
                                            <%-- <td class="styleFieldLabel">
                                                        <asp:Label runat="server" ID="lblNewPurchase" CssClass="styleReqFieldLabel" Text="New Purchase"></asp:Label>
                                                    </td>
                                                    <td class="styleFieldAlign">
                                                        <asp:CheckBox ID="chkNewPurchase" runat="server"></asp:CheckBox>
                                                    </td>
                                                    <td class="styleFieldLabel">
                                                    </td>
                                                    <td class="styleFieldAlign">
                                                    </td>--%>
                                            <td colspan="6" style="padding-top: 1%; padding-left: 1%;">
                                                <asp:Panel ID="panelasset" runat="server" Width="99%">
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <asp:Label runat="server" ID="lblAssetCodeList" CssClass="styleReqFieldLabel" Text="Asset Code"></asp:Label>
                                                                <%--<span class="styleMandatory">*</span>--%>
                                                            </td>
                                                            <td>
                                                                <asp:DropDownList ID="ddlAssetCodeList" runat="server" AutoPostBack="True" OnSelectedIndexChanged="ddlAssetCodeList_SelectedIndexChanged"
                                                                    TabIndex="1">
                                                                </asp:DropDownList>
                                                                <asp:RequiredFieldValidator ID="rfvAssetCodeList" runat="server" ControlToValidate="ddlAssetCodeList"
                                                                    ValidationGroup="TabAddAssetDetails" Display="None" InitialValue="0" SetFocusOnError="False"
                                                                    ErrorMessage="Select an Asset Code" Enabled="true"></asp:RequiredFieldValidator>
                                                            </td>
                                                            <td>
                                                                &nbsp;
                                                            </td>
                                                            <td>
                                                                <asp:Label ID="lblLeaseAssetNo" runat="server" CssClass="styleReqFieldLabel" Text="Lease Asset No."></asp:Label>
                                                                <%--<span class="styleMandatory">*</span>--%>
                                                            </td>
                                                            <td>
                                                                <asp:DropDownList ID="ddlLeaseAssetNo" runat="server" AutoPostBack="True" OnSelectedIndexChanged="ddlLeaseAssetNo_SelectedIndexChanged"
                                                                    TabIndex="2">
                                                                </asp:DropDownList>
                                                                <asp:RequiredFieldValidator ID="rfvLeastAssetCodeNo" runat="server" ControlToValidate="ddlLeaseAssetNo"
                                                                    Display="None" ErrorMessage="Select an Least Asset Number" InitialValue="0" Enabled="false"
                                                                    SetFocusOnError="False" ValidationGroup="TabAddAssetDetails"></asp:RequiredFieldValidator>
                                                            </td>
                                            </td>
                                        </tr>
                                    </table>
                                    </asp:Panel> </td> </tr>
                                    <tr>
                                        <td colspan="6">
                                            &nbsp;
                                        </td>
                                    </tr>
                                    <%--      <tr>
                                                    <td class="styleFieldLabel">
                                                        <asp:Label runat="server" ID="lblAssetCodeList" CssClass="styleReqFieldLabel" Text="Asset Code"></asp:Label>
                                                    </td>
                                                    <td class="styleFieldAlign" colspan="5">
                                                        <asp:DropDownList ID="ddlAssetCodeList" runat="server" AutoPostBack="True" OnSelectedIndexChanged="ddlAssetCodeList_SelectedIndexChanged">
                                                        </asp:DropDownList>
                                                        <asp:RequiredFieldValidator ID="rfvAssetCodeList" runat="server" ControlToValidate="ddlAssetCodeList"
                                                            ValidationGroup="TabAddAssetDetails" CssClass="styleMandatoryLabel" Display="None"
                                                            InitialValue="-1" SetFocusOnError="False" ErrorMessage="Select an Asset code from the list"></asp:RequiredFieldValidator>
                                                    </td>
                                                </tr>--%>
                                    <tr>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblRequiredFromDate" CssClass="styleReqFieldLabel"
                                                Text="Required From"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtRequiredFromDate" runat="server" Width="100px"></asp:TextBox>
                                            <asp:Image ID="ImgtxtRequiredFromDate" runat="server" ImageUrl="~/Images/calendaer.gif"
                                                Height="16px" />
                                            <cc1:CalendarExtender ID="CalendarExtenderSD_RequiredFromDate" runat="server" Enabled="True"
                                                OnClientDateSelectionChanged="checkDate_PrevSystemDate" TargetControlID="txtRequiredFromDate"
                                                PopupButtonID="ImgtxtRequiredFromDate">
                                            </cc1:CalendarExtender>
                                            <asp:RequiredFieldValidator ID="rfvRequiredFromDate" runat="server" ControlToValidate="txtRequiredFromDate"
                                                ValidationGroup="TabAddAssetDetails" CssClass="styleMandatoryLabel" Display="None"
                                                SetFocusOnError="False" ErrorMessage="Enter the Required from date"></asp:RequiredFieldValidator>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblUnitCount" CssClass="styleReqFieldLabel" Text="Unit Count"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtUnitCount" runat="server" Width="40px" MaxLength="4" Text="1"
                                                onblur="ChkIsZero(this,'Unit Count')" onchange="funcalassetvalue();" Style="text-align: right"></asp:TextBox>
                                            <cc1:FilteredTextBoxExtender ID="ftextExtxtUnitCount" runat="server" FilterType="Numbers"
                                                TargetControlID="txtUnitCount" Enabled="True">
                                            </cc1:FilteredTextBoxExtender>
                                            <asp:RequiredFieldValidator ID="rfvUnitCount" runat="server" ControlToValidate="txtUnitCount"
                                                ValidationGroup="TabAddAssetDetails" CssClass="styleMandatoryLabel" Display="None"
                                                SetFocusOnError="False" ErrorMessage="Enter the Unit count"></asp:RequiredFieldValidator>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblUnitValue" CssClass="styleReqFieldLabel" Text="Unit Value"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtUnitValue" runat="server" Width="120px" MaxLength="13" onchange="funcalassetvalue();"></asp:TextBox>
                                            <asp:RequiredFieldValidator ID="rfvUnitValue" runat="server" ControlToValidate="txtUnitValue"
                                                CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False" ValidationGroup="TabAddAssetDetails"
                                                ErrorMessage="Enter the Unit value"></asp:RequiredFieldValidator>
                                            <cc1:FilteredTextBoxExtender ID="ftextExtxtUnitValue" runat="server" FilterType="Numbers,Custom"
                                                ValidChars="." TargetControlID="txtUnitValue">
                                            </cc1:FilteredTextBoxExtender>
                                            <input id="HdnGPSDecimal" type="hidden" runat="server" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblTotalAssetValue" Text="Total Asset Value"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtTotalAssetValue" runat="server" Width="120px" MaxLength="13"></asp:TextBox>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblMarginPercentage" CssClass="styleDisplayLabel" Text="Margin %"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtMarginPercentage" runat="server" Width="70px" onkeypress="fnAllowNumbersOnly(true,false,this)"
                                                onchange="funcalassetMarginAmt();"></asp:TextBox>
                                            <cc1:FilteredTextBoxExtender ID="ftextExtxtMarginPercentage" runat="server" FilterType="Numbers,Custom"
                                                ValidChars="." TargetControlID="txtMarginPercentage">
                                            </cc1:FilteredTextBoxExtender>
                                            <%--  <cc1:FilteredTextBoxExtender ID="FilteredTextBoxExtender1" runat="server" FilterType="Numbers"
                                                            TargetControlID="txtMarginPercentage" Enabled="True" ValidChars=".">
                                                        </cc1:FilteredTextBoxExtender>--%>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblMarginAmountAsset" CssClass="styleDisplayLabel"
                                                Text="Margin Amount"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtMarginAmountAsset" runat="server" Width="120px" MaxLength="7"
                                                onkeypress="fnAllowNumbersOnly(true,false,this)" onchange="funResetassetMarginPercent()"></asp:TextBox>
                                            <%--  <cc1:FilteredTextBoxExtender ID="FilteredTextBoxExtender2" runat="server" FilterType="Numbers"
                                                            TargetControlID="txtMarginPercentage" Enabled="True">
                                                        </cc1:FilteredTextBoxExtender>--%>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblBookDepreciationPerc" CssClass="styleDisplayLabel"
                                                Text="Book Depreciation %"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtBookDepreciationPerc" runat="server" Width="120px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label runat="server" ID="lblBlockDepreciationPerc" CssClass="styleDisplayLabel"
                                                Text="Block Depreciation %"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtBlockDepreciationPerc" runat="server" Width="70px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                        <td class="styleFieldLabel">
                                            <asp:Label ID="lblStatus" runat="server" CssClass="styleDisplayLabel" Text="Status"
                                                ToolTip="Status" Visible="false"></asp:Label>
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:TextBox ID="txtStatus" runat="server" ToolTip="Status" Visible="false"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="styleFieldLabel">
                                            &nbsp;
                                        </td>
                                        <td class="styleFieldAlign">
                                            &nbsp;
                                        </td>
                                        <td class="styleFieldLabel" colspan="3">
                                        </td>
                                        <td class="styleFieldAlign">
                                            <asp:Button ID="btnAddNew" runat="server" CssClass="styleSubmitShortButton" OnClick="btnAddNew_OnClick"
                                                Text="Add" UseSubmitBehavior="False" ValidationGroup="TabAddAssetDetails" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="styleFieldLabel" colspan="6" style="padding-top: 1%">
                                            <asp:Panel runat="server" ID="Panel2" Visible="false" CssClass="stylePanel" GroupingText="Asset Details"
                                                Width="98%">
                                                <div style="overflow: auto; width: 98%; padding-left: 1%">
                                                    <asp:GridView ID="gvAssetDetails" runat="server" AutoGenerateColumns="False" OnRowDeleting="gvAssetDetails_RowDeleting"
                                                        Width="100%" OnRowDataBound="gvAssetDetails_RowDataBound">
                                                        <Columns>
                                                            <asp:TemplateField HeaderText="Asset Number">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblAssetNo" runat="server" Text='<%# Bind("Sl_No") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Asset Id">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblAssetId" runat="server" Text='<%# Bind("Asset_Id") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Asset Code">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblAssetCode" runat="server" Text='<%# Bind("Asset_Code") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Required From Date">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblReqFrm" runat="server" Text='<%# Bind("Required_FromDate") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Unit Count">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblUnitCount" runat="server" Text='<%# Bind("Noof_Units") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Unit Value">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblUnitVal" runat="server" Text='<%# Bind("Unit_Value") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Asset Value">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblAssetVal" runat="server" Text='<%# Bind("AssetValue") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Margin Percentage">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblMarginPer" runat="server" Text='<%# Bind("Margin_Percentage") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Margin Amount">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblMarginAmt" runat="server" Text='<%# Bind("Margin_Amount") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Book Depreciation Percentage">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblBookRate" runat="server" Text='<%# Bind("Book_Depreciation_Percentage") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Block Depreciation Percentage">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblBlockRate" runat="server" Text='<%# Bind("Block_Depreciation_Percentage") %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <ItemStyle HorizontalAlign="Right" />
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="IsOwnAsset">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblOwnAsset" runat="server" Text='<%# Bind("IsOwnAsset") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Asset Status" Visible="false">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblStatusDesc" runat="server" Text='<%# Bind("Status_Desc") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="StatusCode" Visible="false">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblStatusCode" runat="server" Text='<%# Bind("Status_Code") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Status" Visible="false">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblStatus" runat="server" Text='<%# Bind("Status") %>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:CommandField ButtonType="Link" CausesValidation="False" DeleteText="Remove"
                                                                HeaderText="" InsertVisible="False" ShowCancelButton="False" ShowDeleteButton="True">
                                                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                            </asp:CommandField>
                                                        </Columns>
                                                    </asp:GridView>
                                                </div>
                                            </asp:Panel>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td align="right" colspan="6">
                                            <asp:Label ID="lblAssetAmt" Visible="false" runat="server" Text="Total Asset Amount :"
                                                Font-Bold="True"></asp:Label>
                                            <asp:Label ID="lblTotalAssetAmount" Visible="false" runat="server" Font-Bold="True"
                                                Text="0"></asp:Label>
                                            &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
                                            &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
                                            &nbsp; &nbsp;
                                        </td>
                                    </tr>
                                    <%-- </tr>--%>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel runat="server" ID="TabRepayment" HeaderText="TabRepayment" CssClass="tabpan"
                        BackColor="Red" Width="99%">
                        <HeaderTemplate>
                            Repayment Details &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel31" runat="server">
                                <ContentTemplate>
                                    <table width="100%">
                                        <tr>
                                            <td align="left" valign="top">
                                                <asp:Panel ID="Panel11" runat="server" CssClass="stylePanel" GroupingText="Repayment Terms"
                                                    Width="99%">
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <asp:Label runat="server" ID="lblTotalAmount" CssClass="styleDisplayLabel" Font-Bold="false"></asp:Label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <asp:Label ID="lblFrequency_Display" runat="server" CssClass="styleDisplayLabel"
                                                                    Font-Bold="false"></asp:Label>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <asp:Label ID="lblMarginResidual" runat="server" CssClass="styleDisplayLabel" Font-Bold="false"></asp:Label>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </asp:Panel>
                                            </td>
                                            <td valign="top">
                                                <asp:Panel ID="Panel10" runat="server" CssClass="stylePanel" GroupingText="Repayment Summary"
                                                    Width="99%">
                                                    <asp:GridView ID="gvRepaymentSummary" runat="server" AutoGenerateColumns="false"
                                                        Width="100%">
                                                        <Columns>
                                                            <asp:BoundField DataField="CashFlow" HeaderText="Cash Flow Description" />
                                                            <asp:BoundField DataField="TotalPeriodInstall" HeaderText="Amount" ItemStyle-HorizontalAlign="Right" />
                                                        </Columns>
                                                    </asp:GridView>
                                                </asp:Panel>
                                            </td>
                                            <td align="right" valign="top">
                                                <asp:Panel ID="panIRR" runat="server" CssClass="stylePanel" GroupingText="IRR Details"
                                                    Width="100%">
                                                    <table cellpadding="0" cellspacing="0" width="99%">
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label runat="server" ID="lblAccountIRR_Repay" CssClass="styleReqFieldLabel"
                                                                    Text="Accounting IRR" Font-Bold="false"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtAccountIRR_Repay" runat="server" Width="100px" Font-Bold="false"
                                                                    Style="text-align: right"></asp:TextBox>
                                                                <asp:RequiredFieldValidator ID="rfvAccountingIRR" runat="server" Display="None" ValidationGroup="Repayment Details"
                                                                    ErrorMessage="Calculate Accounting IRR" ControlToValidate="txtAccountIRR_Repay"
                                                                    SetFocusOnError="False"></asp:RequiredFieldValidator>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label runat="server" ID="lblBusinessIRR_Repay" CssClass="styleReqFieldLabel"
                                                                    Font-Bold="false" Text="Business IRR"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtBusinessIRR_Repay" runat="server" Width="100px" Font-Bold="false"
                                                                    Style="text-align: right"></asp:TextBox>
                                                                <asp:RequiredFieldValidator ID="rfvBusinessIRR" runat="server" Display="None" ValidationGroup="Repayment Details"
                                                                    ErrorMessage="Calculate Business IRR" ControlToValidate="txtBusinessIRR_Repay"
                                                                    SetFocusOnError="False"></asp:RequiredFieldValidator>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="styleFieldLabel">
                                                                <asp:Label runat="server" ID="lblCompanyIRR_Repay" CssClass="styleReqFieldLabel"
                                                                    Font-Bold="false" Text="Company IRR"></asp:Label>
                                                            </td>
                                                            <td class="styleFieldAlign">
                                                                <asp:TextBox ID="txtCompanyIRR_Repay" runat="server" Width="100px" Font-Bold="false"
                                                                    Style="text-align: right"></asp:TextBox>
                                                                <asp:RequiredFieldValidator ID="rfvCompanyIRR" runat="server" Display="None" ValidationGroup="Repayment Details"
                                                                    ErrorMessage="Calculate Company IRR" ControlToValidate="txtCompanyIRR_Repay"
                                                                    SetFocusOnError="False"></asp:RequiredFieldValidator>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <asp:Panel runat="server" ID="Panel3" CssClass="stylePanel" GroupingText="Repayment Details"
                                                    Width="100%">
                                                    <div id="div6" style="overflow: auto; width: 98%; padding-left: 1%;" runat="server">
                                                        <asp:GridView ID="gvRepaymentDetails" runat="server" AutoGenerateColumns="False"
                                                            ShowFooter="True" OnRowDeleting="gvRepaymentDetails_RowDeleting" OnRowDataBound="gvRepaymentDetails_RowDataBound"
                                                            OnRowCreated="gvRepaymentDetails_RowCreated" Width="100%">
                                                            <Columns>
                                                                <asp:BoundField DataField="slno" HeaderText="Sl.No" ItemStyle-HorizontalAlign="Center">
                                                                    <FooterStyle Width="2%" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="2%" />
                                                                </asp:BoundField>
                                                                <asp:TemplateField HeaderText="Repayment CashFlow" ItemStyle-Width="23%" FooterStyle-Width="23%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCashFlow" runat="server" Text='<%# Bind("CashFlow") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlRepaymentCashFlow_RepayTab" runat="server" Width="100%"
                                                                            AutoPostBack="true" OnSelectedIndexChanged="ddlRepaymentCashFlow_RepayTab_SelectedIndexChanged">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlRepaymentCashFlow_RepayTab" runat="server"
                                                                            ControlToValidate="ddlRepaymentCashFlow_RepayTab" CssClass="styleMandatoryLabel"
                                                                            Display="None" ValidationGroup="TabRepayment1" SetFocusOnError="False" InitialValue="-1"
                                                                            ErrorMessage="Select a Repayment cashflow"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="23%" />
                                                                    <ItemStyle Width="23%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Per Installment Amount" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                    <FooterStyle HorizontalAlign="Right" />
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblPerInstallmentAmount_RepayTab" runat="server" Text='<%# Bind("PerInstall") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtPerInstallmentAmount_RepayTab" runat="server" Width="97%" MaxLength="7">
                                                                        </asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="ftextExtxtPerInstallmentAmount_RepayTab" runat="server"
                                                                            FilterType="Numbers" TargetControlID="txtPerInstallmentAmount_RepayTab">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtPerInstallmentAmount_RepayTab" runat="server"
                                                                            ControlToValidate="txtPerInstallmentAmount_RepayTab" CssClass="styleMandatoryLabel"
                                                                            Display="None" ValidationGroup="TabRepayment1" SetFocusOnError="False" ErrorMessage="Enter the Pre installment amount"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Breakup Percentage" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                    <FooterStyle HorizontalAlign="Right" />
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblBreakup_RepayTab" runat="server" Text='<%# Bind("Breakup") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtBreakup_RepayTab" runat="server" Width="97%" onkeypress="fnAllowNumbersOnly(true,false,this)">
                                                                        </asp:TextBox>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="From Installment" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                    <FooterStyle HorizontalAlign="Right" />
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblFromInstallment_RepayTab" runat="server" Text='<%# Bind("FromInstall") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtFromInstallment_RepayTab" runat="server" Width="97%" MaxLength="3"
                                                                            Style="text-align: right" Text="1"><%--ReadOnly="true" --%>
                                                                        </asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="ftextExtxtFromInstallment_RepayTab" runat="server"
                                                                            FilterType="Numbers" TargetControlID="txtFromInstallment_RepayTab">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                        <%--<asp:RequiredFieldValidator ID="rfvtxtFromInstallment_RepayTab" runat="server" ControlToValidate="txtFromInstallment_RepayTab"
                                                                        CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabRepayment1"
                                                                        SetFocusOnError="False" ErrorMessage="Enter the From installment"></asp:RequiredFieldValidator>--%>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="To Installment" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemStyle HorizontalAlign="Right" />
                                                                    <FooterStyle HorizontalAlign="Right" />
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblToInstallment_RepayTab" runat="server" Text='<%# Bind("ToInstall") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtToInstallment_RepayTab" runat="server" Width="97%" MaxLength="3"
                                                                            Style="text-align: right">
                                                                        </asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="ftextExtxtToInstallment_RepayTab" runat="server"
                                                                            FilterType="Numbers" TargetControlID="txtToInstallment_RepayTab">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                        <asp:RequiredFieldValidator ID="rfvtxtToInstallment_RepayTab" runat="server" ControlToValidate="txtToInstallment_RepayTab"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabRepayment1"
                                                                            SetFocusOnError="False" ErrorMessage="Enter the To installment"></asp:RequiredFieldValidator>
                                                                        <asp:CompareValidator ID="cmpvFromTOInstall" runat="server" ErrorMessage="To installment should be greater than From installment"
                                                                            ControlToValidate="txtToInstallment_RepayTab" ControlToCompare="txtFromInstallment_RepayTab"
                                                                            Display="None" ValidationGroup="TabRepayment1" Type="Integer" Operator="GreaterThanEqual"></asp:CompareValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="From Date" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblfromdate_RepayTab" runat="server" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"FromDate")).ToString(strDateFormat) %> '></asp:Label>
                                                                        <asp:TextBox ID="txRepaymentFromDate" runat="server" Visible="false" BackColor="Navy"
                                                                            ForeColor="White" Font-Names="calibri" Font-Size="12px" Width="100%" Style="color: White"
                                                                            Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"FromDate")).ToString(strDateFormat) %> '
                                                                            AutoPostBack="True" OnTextChanged="txRepaymentFromDate_TextChanged"></asp:TextBox>
                                                                        <cc1:CalendarExtender ID="calext_FromDate" runat="server" Enabled="True" OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate"
                                                                            TargetControlID="txRepaymentFromDate">
                                                                        </cc1:CalendarExtender>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtfromdate_RepayTab" runat="server" Width="100%">
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="CalendarExtenderSD_fromdate_RepayTab" runat="server" Enabled="True"
                                                                            TargetControlID="txtfromdate_RepayTab">
                                                                        </cc1:CalendarExtender>
                                                                        <%--  <asp:RequiredFieldValidator ID="rfvtxtfromdate_RepayTab" runat="server" ControlToValidate="txtfromdate_RepayTab"
                                                                        CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabRepayment1"
                                                                        SetFocusOnError="False" ErrorMessage="Enter the from date"></asp:RequiredFieldValidator>--%>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="10%" />
                                                                    <ItemStyle Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="To Date" ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblTODate_ReapyTab" runat="server" Width="100%" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"ToDate")).ToString(strDateFormat) %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:TextBox ID="txtToDate_RepayTab" runat="server" Width="100%" Visible="false">
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="CalendarExtenderSD_ToDate_RepayTab" runat="server" Enabled="True"
                                                                            OnClientDateSelectionChanged="checkDate_PrevSystemDate" TargetControlID="txtToDate_RepayTab">
                                                                        </cc1:CalendarExtender>
                                                                    </FooterTemplate>
                                                                    <FooterStyle Width="10%" />
                                                                    <ItemStyle Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Add" ItemStyle-Width="5%" FooterStyle-Width="5%">
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                    <FooterStyle HorizontalAlign="Center" />
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton ID="lnRemoveRepayment" CausesValidation="false" runat="server" CommandName="Delete"
                                                                            Text="Remove" Visible="false"></asp:LinkButton></ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:Button ID="btnAddRepayment" runat="server" Text="Add" CssClass="styleGridShortButton"
                                                                            OnClick="Repayment_AddRow_OnClick" ValidationGroup="TabRepayment1" OnClientClick="return fnCheckPageValidators('TabRepayment1',false)">
                                                                        </asp:Button>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Repayment CashFlowId" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCashFlowId" runat="server" Text='<%# Bind("CashFlowId") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation--%>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblAccountingIRR" runat="server" Text='<%# Bind("Accounting_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblBusinessIRR" runat="server" Text='<%# Bind("Business_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblComapnyIRR" runat="server" Text='<%# Bind("Company_IRR") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCashFlow_Flag_ID" runat="server" Text='<%# Bind("CashFlow_Flag_ID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <%-- Columns to be added for IRR Calculation--%>
                                                            </Columns>
                                                        </asp:GridView>
                                                    </div>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" align="right">
                                                <asp:Button runat="server" ID="btnCalIRR" Text="Calculate IRR" CssClass="styleSubmitButton"
                                                    OnClick="btnCalIRR_Click" />
                                                <asp:Button runat="server" ID="btnReset" Text="Reset" CssClass="styleSubmitShortButton"
                                                    OnClick="btnReset_Click" OnClientClick="return Confirmmsg('Are you sure you want to Reset Repayment Structure?')" />
                                                <asp:Button runat="server" ID="btnShowRepayment" Text="Repayment Structure" CssClass="styleSubmitLongButton"
                                                    OnClick="btnShowRepayment_Click" Style="display: none" />
                                                <input id="hdnCTR" type="hidden" runat="server" />
                                                <input id="hdnPLR" type="hidden" runat="server" />
                                                <input id="hdnRoundOff" type="hidden" runat="server" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <asp:Panel ID="PanRepay" runat="server" Width="100%" Height="100%" Visible="True">
                                                    <asp:GridView ID="grvRepayStructure" runat="server" AutoGenerateColumns="false" Width="100%">
                                                        <Columns>
                                                            <%--  <asp:BoundField DataField="slno" HeaderText="Sl.No" ItemStyle-HorizontalAlign="Right" />--%>
                                                            <asp:BoundField DataField="InstallmentNo" HeaderText="Installment No" ItemStyle-HorizontalAlign="Center" />
                                                            <asp:BoundField DataField="From_Date" HeaderText="From Date" ItemStyle-HorizontalAlign="Left" />
                                                            <asp:BoundField DataField="To_Date" HeaderText="To Date" ItemStyle-HorizontalAlign="Left" />
                                                            <asp:BoundField DataField="Installment_Date" HeaderText="Installment Date" ItemStyle-HorizontalAlign="Left" />
                                                            <asp:BoundField DataField="NoofDays" HeaderText="No Of days" ItemStyle-HorizontalAlign="Right" />
                                                            <asp:BoundField DataField="InstallmentAmount" HeaderText="Installment Amount" ItemStyle-HorizontalAlign="Right" />
                                                            <asp:BoundField DataField="Charge" HeaderText="Finance Charges" ItemStyle-HorizontalAlign="Right"
                                                                Visible="true" />
                                                            <asp:BoundField DataField="PrincipalAmount" HeaderText="Principal Amount" ItemStyle-HorizontalAlign="Right"
                                                                Visible="true" />
                                                            <asp:BoundField DataField="Insurance" HeaderText="Insurance" ItemStyle-HorizontalAlign="Right" />
                                                            <asp:BoundField DataField="Others" HeaderText="Other Amount" ItemStyle-HorizontalAlign="Right" />
                                                            <asp:BoundField DataField="Tax" HeaderText="Tax" ItemStyle-HorizontalAlign="Right" />
                                                        </Columns>
                                                    </asp:GridView>
                                                    <br />
                                                    <%-- <a id="hideModalPopupClientButton" href="#" onclick="hideModalPopupViaClient();">Close</a>--%></asp:Panel>
                                                <cc1:ModalPopupExtender ID="ModalPopupExtenderRepayDetails" runat="server" TargetControlID="btnShowRepayment"
                                                    PopupControlID="PanRepay" BackgroundCssClass="styleModalBackground" Enabled="false"
                                                    BehaviorID="programmaticModalPopupBehavior" RepositionMode="RepositionOnWindowResize"
                                                    X="200" Y="200">
                                                </cc1:ModalPopupExtender>
                                                <asp:Button ID="btnGenerateRepay" runat="server" Style="display: none" Text="Button"
                                                    OnClick="btnGenerateRepay_Click" />
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                                <Triggers>
                                    <asp:AsyncPostBackTrigger ControlID="btnCalIRR" EventName="Click" />
                                    <asp:AsyncPostBackTrigger ControlID="btnGenerateRepay" EventName="Click" />
                                </Triggers>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel runat="server" ID="TabAlerts" CssClass="tabpan" HeaderText="TabAlerts"
                        BackColor="Red" Width="99%">
                        <HeaderTemplate>
                            Alerts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel5" runat="server">
                                <ContentTemplate>
                                    <table style="width: 100%">
                                        <tr valign="middle">
                                            <td style="padding-top: 1%">
                                                <asp:Panel runat="server" ID="Panel4" CssClass="stylePanel" GroupingText="Alert Details">
                                                    <div id="div2" style="overflow: auto; width: 98%; padding-left: 1%;" runat="server"
                                                        border="1">
                                                        <asp:GridView ID="gvAlert" runat="server" AutoGenerateColumns="False" ShowFooter="True"
                                                            OnRowDeleting="gvAlert_RowDeleting" Width="100%">
                                                            <Columns>
                                                                <asp:TemplateField HeaderText="TypeId" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblTypeId" runat="server" Text='<%# Bind("TypeId") %>' />
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Type">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblType" runat="server" Text='<%# Bind("Type") %>' />
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlType_AlertTab" runat="server" Width="200px">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlType_AlertTab" runat="server" ControlToValidate="ddlType_AlertTab"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabAlert1" SetFocusOnError="False"
                                                                            InitialValue="-1" ErrorMessage="Select a Alert Type"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="User ContactId" Visible="False">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblUserContactid" runat="server" Text='<%# Bind("UserContactId") %>' />
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="User Contact">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblUserContact" runat="server" Text='<%# Bind("UserContact") %>' />
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:DropDownList ID="ddlContact_AlertTab" runat="server" Width="200px">
                                                                        </asp:DropDownList>
                                                                        <asp:RequiredFieldValidator ID="rfvddlContact_AlertTab" runat="server" ControlToValidate="ddlContact_AlertTab"
                                                                            CssClass="styleMandatoryLabel" Display="None" ValidationGroup="TabAlert1" SetFocusOnError="False"
                                                                            InitialValue="-1" ErrorMessage="Select a User Contact"></asp:RequiredFieldValidator>
                                                                    </FooterTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="EMail">
                                                                    <ItemTemplate>
                                                                        <%--Checked='<%# Bind("EMail") %>' --%>
                                                                        <asp:CheckBox ID="ChkEmail" runat="server" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "EMail")))%>' />
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:CheckBox ID="ChkEmail" runat="server"></asp:CheckBox>
                                                                    </FooterTemplate>
                                                                    <FooterStyle HorizontalAlign="Center" />
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="SMS">
                                                                    <ItemTemplate>
                                                                        <%--Checked='<%# Bind("SMS") %>'--%>
                                                                        <asp:CheckBox ID="ChkSMS" runat="server" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "SMS")))%>' />
                                                                    </ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:CheckBox ID="ChkSMS" runat="server"></asp:CheckBox>
                                                                    </FooterTemplate>
                                                                    <FooterStyle HorizontalAlign="Center" />
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField>
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton ID="lnRemove" CausesValidation="false" runat="server" CommandName="Delete"
                                                                            Text="Remove"></asp:LinkButton></ItemTemplate>
                                                                    <FooterTemplate>
                                                                        <asp:Button ID="btnAddAlert" runat="server" Text="Add" CausesValidation="true" CssClass="styleGridShortButton"
                                                                            OnClick="Alert_AddRow_OnClick" ValidationGroup="TabAlert1" Width="50px"></asp:Button>
                                                                    </FooterTemplate>
                                                                    <FooterStyle HorizontalAlign="Center" />
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                </asp:TemplateField>
                                                            </Columns>
                                                        </asp:GridView>
                                                    </div>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel runat="server" ID="TabFollowUp" HeaderText="TabFollowUp" CssClass="tabpan"
                        BackColor="Red" Width="100%">
                        <HeaderTemplate>
                            Follow Up&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel6" runat="server">
                                <ContentTemplate>
                                    <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; height: 100%">
                                        <tr style="height: 10%">
                                            <td class="styleFieldLabel">
                                                <asp:Label runat="server" ID="lblLOB_Followup" CssClass="styleDisplayLabel" Text="Line of Business"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtLOB_Followup" runat="server" Width="240px" ReadOnly="True"></asp:TextBox>
                                            </td>
                                            <td class="styleFieldLabel">
                                                <asp:Label runat="server" ID="lblBranch_Followup" CssClass="styleDisplayLabel" Text="Location"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtBranch_Followup" runat="server" Width="180px" ReadOnly="True"></asp:TextBox>
                                            </t d>
                                        </tr>
                                        <tr style="height: 10%">
                                            <td class="styleFieldLabel">
                                                <asp:Label runat="server" ID="lblEnquiry_Followup" CssClass="styleDisplayLabel" Text="Enquiry Number"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtEnquiry_Followup" runat="server" Width="180px" ReadOnly="True"></asp:TextBox>
                                            </td>
                                            <td class="styleFieldLabel">
                                                <asp:Label runat="server" ID="lblEnquiryDate_Followup" CssClass="styleDisplayLabel"
                                                    Text="Date"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtEnquiryDate_Followup" runat="server" Width="100px" ReadOnly="True"></asp:TextBox>
                                            </td>
                                        </tr>
                                        <tr style="height: 10%">
                                            <td class="styleFieldLabel">
                                                <asp:Label runat="server" ID="lblCustNameAdd_Followup" CssClass="styleDisplayLabel"
                                                    Text="Prospect Name & Address"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign" rowspan="2">
                                                <asp:TextBox ID="txtCustNameAdd_Followup" runat="server" Width="180px" ReadOnly="True"
                                                    TextMode="MultiLine" Height="90px"></asp:TextBox>
                                            </td>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblOfferNo_Followup" runat="server" CssClass="styleDisplayLabel" Text="Offer Number"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtOfferNo_Followup" runat="server" ReadOnly="True" Width="180px"></asp:TextBox>
                                            </td>
                                        </tr>
                                        <tr style="height: 10%">
                                            <td class="styleFieldLabel" colspan="2">
                                            </td>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblApplication_Followup" runat="server" CssClass="styleDisplayLabel"
                                                    Text="Application Number"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:TextBox ID="txtApplication_Followup" runat="server" ReadOnly="True" Width="180px"></asp:TextBox>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4">
                                                <asp:Panel runat="server" ID="Panel5" CssClass="stylePanel" GroupingText="Follow Up Details"
                                                    Width="99%">
                                                    <%-- <div id="div3" style="overflow: auto; width: 98%; padding-left: 1%" runat="server">--%>
                                                    <asp:GridView ID="gvFollowUp" runat="server" AutoGenerateColumns="False" ShowFooter="True"
                                                        OnRowDeleting="gvFollowUp_RowDeleting" OnRowCreated="gvFollowUp_RowCreated" Width="100%"
                                                        Height="100%">
                                                        <Columns>
                                                            <asp:TemplateField HeaderText="Date" ItemStyle-Width="7%" FooterStyle-Width="7%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblDate_GridFollowup" runat="server" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Date")).ToString(strDateFormat) %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:TextBox ID="txtDate_GridFollowup" runat="server" Width="95%">
                                                                    </asp:TextBox>
                                                                    <cc1:CalendarExtender runat="server" TargetControlID="txtDate_GridFollowup" ID="CalendarExtenderSD_FollowupDate"
                                                                        Enabled="True" OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate">
                                                                    </cc1:CalendarExtender>
                                                                    <asp:RequiredFieldValidator ID="rfvtxtDate_GridFollowup" runat="server" ControlToValidate="txtDate_GridFollowup"
                                                                        ValidationGroup="gvFollowUp1" CssClass="styleMandatoryLabel" Display="None" ErrorMessage="Select the Date"></asp:RequiredFieldValidator>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="From User" Visible="false" ItemStyle-Width="0%" FooterStyle-Width="0%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblfrom_GridFollowup_ID" runat="server" Text='<% #Bind("FromUserId")%>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="From User Name" ItemStyle-Width="5%" FooterStyle-Width="5%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblfrom_GridFollowup" runat="server" Text='<% #Bind("From")%>'></asp:Label>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:DropDownList ID="ddlfrom_GridFollowup" Width="75" runat="server">
                                                                    </asp:DropDownList>
                                                                    <asp:RequiredFieldValidator ID="rfvddlfrom_GridFollowup" runat="server" ControlToValidate="ddlfrom_GridFollowup"
                                                                        CssClass="styleMandatoryLabel" Display="None" ValidationGroup="gvFollowUp1" SetFocusOnError="False"
                                                                        InitialValue="-1" ErrorMessage="Select a From User"></asp:RequiredFieldValidator>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="To User" Visible="false" ItemStyle-Width="0%" FooterStyle-Width="0%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblTo_GridFollowupid" runat="server" Text='<%#Bind("ToUserId")%>'></asp:Label>
                                                                </ItemTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="To User Name" ItemStyle-Width="5%" FooterStyle-Width="5%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblTo_GridFollowup" runat="server" Text='<%#Bind("To")%>'></asp:Label>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:DropDownList ID="ddlTo_GridFollowup" Width="75" runat="server">
                                                                    </asp:DropDownList>
                                                                    <asp:RequiredFieldValidator ID="rfvddlTo_GridFollowup" runat="server" ControlToValidate="ddlTo_GridFollowup"
                                                                        CssClass="styleMandatoryLabel" Display="None" ValidationGroup="gvFollowUp1" SetFocusOnError="False"
                                                                        InitialValue="-1" ErrorMessage="Select a To User"></asp:RequiredFieldValidator>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Action Details" ItemStyle-Width="20%" FooterStyle-Width="20%">
                                                                <ItemTemplate>
                                                                    <asp:TextBox ID="lblActionDetails" runat="server" Text='<%#Bind("Action")%>' TextMode="MultiLine"
                                                                        ReadOnly="true" MaxLength="80"></asp:TextBox>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:TextBox ID="txtAction_GridFollowup" runat="server" MaxLength="80" TextMode="MultiLine"
                                                                        onkeyup="maxlengthfortxt(80)" Width="98%">
                                                                    </asp:TextBox>
                                                                    <asp:RequiredFieldValidator ID="rfvtxtAction_GridFollowup" runat="server" ControlToValidate="txtAction_GridFollowup"
                                                                        ValidationGroup="gvFollowUp1" CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False"
                                                                        ErrorMessage="Enter the Action"></asp:RequiredFieldValidator>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Action Date" ItemStyle-Width="7%" FooterStyle-Width="7%">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblActionDate" runat="server" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"ActionDate")).ToString(strDateFormat) %>'></asp:Label>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:TextBox ID="txtActionDate_GridFollowup" runat="server" Width="95%">
                                                                    </asp:TextBox>
                                                                    <cc1:CalendarExtender runat="server" TargetControlID="txtActionDate_GridFollowup"
                                                                        ID="CalendarExtenderSD_FollowupActionDate" Enabled="True" OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate">
                                                                    </cc1:CalendarExtender>
                                                                    <asp:RequiredFieldValidator ID="rfvtxtActionDate_GridFollowup" runat="server" ControlToValidate="txtActionDate_GridFollowup"
                                                                        ValidationGroup="gvFollowUp1" CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False"
                                                                        ErrorMessage="Select the Action Date"></asp:RequiredFieldValidator>
                                                                    <asp:CompareValidator ID="cmpvFromTOInstall" runat="server" ErrorMessage="Action should be greater than Followup date"
                                                                        ControlToValidate="txtActionDate_GridFollowup" ControlToCompare="txtDate_GridFollowup"
                                                                        Display="None" Type="String" Operator="GreaterThanEqual"></asp:CompareValidator>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Customer Response" ItemStyle-Width="20%" FooterStyle-Width="20%">
                                                                <ItemTemplate>
                                                                    <asp:TextBox ID="lblCustomerResponse" runat="server" MaxLength="80" TextMode="MultiLine"
                                                                        Text='<%#Bind("CustomerResponse")%>' ReadOnly="true"></asp:TextBox>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:TextBox ID="txtCustomerResponse_GridFollowup" runat="server" MaxLength="80"
                                                                        TextMode="MultiLine" onkeyup="maxlengthfortxt(80)" Width="98%">
                                                                    </asp:TextBox>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField HeaderText="Remarks" ItemStyle-Width="20%" FooterStyle-Width="20%">
                                                                <ItemTemplate>
                                                                    <asp:TextBox ID="lblRemarks" runat="server" Text='<%#Bind("Remarks")%>' TextMode="MultiLine"
                                                                        MaxLength="80" ReadOnly="true"></asp:TextBox>
                                                                </ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:TextBox ID="txtRemarks_GridFollowup" runat="server" MaxLength="80" TextMode="MultiLine"
                                                                        onkeyup="maxlengthfortxt(80)" Width="98%">
                                                                    </asp:TextBox>
                                                                </FooterTemplate>
                                                            </asp:TemplateField>
                                                            <asp:TemplateField ItemStyle-Width="10%" FooterStyle-Width="10%">
                                                                <ItemTemplate>
                                                                    <asp:LinkButton ID="lnRemove" CausesValidation="false" runat="server" CommandName="Delete"
                                                                        Text="Remove"></asp:LinkButton></ItemTemplate>
                                                                <FooterTemplate>
                                                                    <asp:Button ID="btnAddFollowup" runat="server" Text="Add" CssClass="styleGridShortButton"
                                                                        OnClick="FollowUp_AddRow_OnClick" ValidationGroup="gvFollowUp1" OnClientClick="return fnCheckPageValidators('gvFollowUp1',false)">
                                                                    </asp:Button>
                                                                </FooterTemplate>
                                                                <ItemStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                                <FooterStyle HorizontalAlign="Center" VerticalAlign="Middle" />
                                                            </asp:TemplateField>
                                                        </Columns>
                                                    </asp:GridView>
                                                    <%-- </div>--%></asp:Panel>
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <cc1:TabPanel ID="TabDocumentDetails" runat="server" BackColor="Red" CssClass="tabpan">
                        <HeaderTemplate>
                            Document Details&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </HeaderTemplate>
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel51" runat="server">
                                <ContentTemplate>
                                    <table width="100%">
                                        <tr>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblConstitutionCodeList" runat="server" CssClass="styleReqFieldLabel"
                                                    Text="Constitution Code"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <%-- <asp:DropDownList ID="ddlConstitutionCodeList" runat="server" Width="245px" AutoPostBack="True"
                                                            OnSelectedIndexChanged="ddlConstitutionCodeList_SelectedIndexChanged">
                                                        </asp:DropDownList>--%><asp:TextBox ID="txtConstitutionCode" runat="server"></asp:TextBox>
                                                <asp:RequiredFieldValidator ID="rfvConstitutionCodeList" runat="server" ControlToValidate="txtConstitutionCode"
                                                    ValidationGroup="TabMainPage" CssClass="styleMandatoryLabel" Display="None" SetFocusOnError="False"></asp:RequiredFieldValidator>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <asp:Panel runat="server" ID="Panel6" CssClass="stylePanel" GroupingText="Document Details">
                                                    <div id="div1" style="overflow: auto; width: 98%; padding-left: 1%;" runat="server">
                                                        <asp:GridView runat="server" ID="grvConsDocuments" Width="100%" OnRowDataBound="grvConsDocs_RowDataBound"
                                                            AutoGenerateColumns="False">
                                                            <Columns>
                                                                <asp:BoundField DataField="ID" HeaderText="ID" />
                                                                <asp:BoundField DataField="DocumentFlag" HeaderText="Document Flag" ItemStyle-Width="10%" />
                                                                <asp:BoundField DataField="DocumentDescription" HeaderText="Document Description"
                                                                    ItemStyle-Width="15%" />
                                                                <asp:TemplateField HeaderText="Is_Mandatory" ItemStyle-Width="10%">
                                                                    <HeaderTemplate>
                                                                        <asp:Label ID="lblOptman" runat="server" Text="Mandatory"></asp:Label>
                                                                    </HeaderTemplate>
                                                                    <ItemTemplate>
                                                                        <%--<%# Bind("IsMandatory") %>--%>
                                                                        <asp:CheckBox ID="chkIsMandatory" runat="server" Enabled="true" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "IsMandatory")))%>'>
                                                                        </asp:CheckBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Image Copy" ItemStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <%--'<%# Bind("IsNeedImageCopy") %>'--%>
                                                                        <asp:CheckBox ID="chkIsNeedImageCopy" runat="server" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "IsNeedImageCopy")))%>'>
                                                                        </asp:CheckBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Collected" ItemStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <%--'<%# Bind("Collected") %>'--%>
                                                                        <asp:CheckBox ID="chkCollected" runat="server" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "Collected")))%>'>
                                                                        </asp:CheckBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Scanned" ItemStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <%--'<%# Bind("Scanned") %>'--%>
                                                                        <asp:CheckBox ID="chkScanned" runat="server" Checked='<%#bool.Parse(Convert.ToString(DataBinder.Eval(Container.DataItem, "Scanned")))%>'>
                                                                        </asp:CheckBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Remark" ItemStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:TextBox ID="txtRemark" runat="server" onkeypress="fnCheckSpecialChars(true)"
                                                                            onkeyup="maxlengthfortxt(60)" Text='<%# Bind("Remark") %>' MaxLength="60" TextMode="MultiLine"></asp:TextBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Value" ItemStyle-Width="15%">
                                                                    <ItemTemplate>
                                                                        <asp:TextBox ID="txtValues" runat="server" onkeypress="fnCheckSpecialChars(false)"
                                                                            Text='<%# Bind("Values") %>' MaxLength="40"></asp:TextBox>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Is FollowUp" ItemStyle-Width="10%">
                                                                    <ItemTemplate>
                                                                        <asp:CheckBox Enabled="false" runat="server" ID="chkIs_FollowUp" />
                                                                        <asp:Label ID="lblchkIs_FollowUp" Visible="false" runat="server" Text='<%#Eval("Is_FollowUp")%>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Scanned Reference">
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton ID="lnkScannedReference" OnClick="hlnkView_Click" runat="server"
                                                                            Text="View">
                                                                        </asp:LinkButton>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Document ID" ItemStyle-Width="10%" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblDocumentId" runat="server" Text='<%#Eval("DocumentId")%>'></asp:Label>
                                                                        <asp:Label ID="lblDocumentPath" runat="server" Text='<%#Eval("Document_Path")%>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                            </Columns>
                                                            <HeaderStyle CssClass="styleGridHeader" />
                                                            <RowStyle HorizontalAlign="Center" />
                                                        </asp:GridView>
                                                    </div>
                                                </asp:Panel>
                                                <asp:Panel runat="server" ID="Panel8" CssClass="stylePanel" GroupingText="Pre-Disbursement Document Details"
                                                    Visible="false">
                                                    <div id="div11" style="overflow: auto; width: 98%; padding-left: 1%;" runat="server">
                                                        <br />
                                                        <asp:GridView ID="gvPRDDT" runat="server" AutoGenerateColumns="False" Width="100%"
                                                            DataKeyNames="PRDDC_Doc_Cat_ID" CssClass="styleInfoLabel" OnRowDataBound="gvPRDDT_RowDataBound">
                                                            <Columns>
                                                                <asp:TemplateField HeaderText="PRDDC TypeId" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblPRTID" runat="server" Text='<%# Bind("PRDDC_Doc_Cat_ID") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="PRDDC Type">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblType" runat="server" Text='<%# Bind("PRDDC_Doc_Type") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="PRDDC Description">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblDesc" runat="server" Text='<%# Bind("PRDDC_Doc_Description") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="20%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="CollectedById" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblCollectedBy" runat="server" Text='<%# Bind("Collected_By_Id") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <%--<asp:TemplateField HeaderText="Collected By">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="txtColletedBy" runat="server" Text='<%# Bind("CollectedBy") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="10%" />
                                                                </asp:TemplateField>--%>
                                                                <asp:TemplateField HeaderText="Collected By">
                                                                    <ItemTemplate>
                                                                        <asp:DropDownList ID="ddlCollectedBy" runat="server" OnSelectedIndexChanged="ddlCollectedBy_SelectedIndexChanged"
                                                                            AutoPostBack="true">
                                                                        </asp:DropDownList>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Collected Date">
                                                                    <ItemTemplate>
                                                                        <%--<asp:Label ID="txtColletedDate" runat="server" Width="70px" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Getdates")).ToString(strDateFormat) %>'></asp:Label>--%>
                                                                        <%--    <asp:TextBox ID="txtColletedDate" runat="server" Width="95%" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Getdates")).ToString(strDateFormat) %>' ReadOnly="true"></asp:TextBox>                                                        --%>
                                                                        <asp:TextBox ID="txtCollectedDate" runat="server" Width="95%" Text='<%#Bind("GetDates") %>'>
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="calCollectedDate" runat="server" Enabled="True" TargetControlID="txtCollectedDate"
                                                                            OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate">
                                                                        </cc1:CalendarExtender>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="ScannedById" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblScannedBy" runat="server" Text='<%# Bind("Scanned_By_Id") %>'></asp:Label>
                                                                    </ItemTemplate>
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Scanned By">
                                                                    <ItemTemplate>
                                                                        <%--<asp:Label ID="txtScannedBy" runat="server" Text='<%# Bind("Scandedby") %>'></asp:Label>--%>
                                                                        <asp:DropDownList ID="ddlScannedBy" runat="server" OnSelectedIndexChanged="ddlScannedBy_SelectedIndexChanged"
                                                                            AutoPostBack="true">
                                                                        </asp:DropDownList>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Scanned Date">
                                                                    <ItemTemplate>
                                                                        <%--<asp:Label ID="txtScannedDate" runat="server" Width="70px" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Getdates")).ToString(strDateFormat) %>'></asp:Label>--%>
                                                                        <%--<asp:TextBox ID="txtScannedDate" runat="server" Width="95%" Text='<%#Convert.ToDateTime(DataBinder.Eval(Container.DataItem,"Getdates")).ToString(strDateFormat) %>'
                                                            ReadOnly="true"></asp:TextBox>--%>
                                                                        <asp:TextBox ID="txtScannedDate" runat="server" Width="95%" Text='<%# Bind("Scanned_Date") %>'>
                                                                        </asp:TextBox>
                                                                        <cc1:CalendarExtender ID="calScannedDate" runat="server" Enabled="True" TargetControlID="txtScannedDate"
                                                                            OnClientDateSelectionChanged="checkDate_OnlyPrevSystemDate">
                                                                        </cc1:CalendarExtender>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="File Upload">
                                                                    <ItemTemplate>
                                                                        <asp:TextBox ID="txOD" runat="server" Width="100px" MaxLength="500" Text='<%# Bind("Document_Path") %>'
                                                                            Visible="false"></asp:TextBox>
                                                                        <cc1:AsyncFileUpload ID="asyFileUpload" runat="server" Width="175px" OnClientUploadComplete="uploadComplete"
                                                                            OnUploadedComplete="asyncFileUpload_UploadedComplete" />
                                                                        <asp:Label runat="server" ID="myThrobber"></asp:Label>
                                                                        <asp:HiddenField runat="server" ID="hidThrobber" />
                                                                        <asp:TextBox ID="txthidden" runat="server" Width="100px" MaxLength="500" Text='<%# Bind("Document_Path") %>'
                                                                            Visible="false"></asp:TextBox>
                                                                        <input id="bOD" onclick="return openFileDialog(this.id,'bOD','fileOpenDocument','txOD', 'paper')"
                                                                            style="width: 17px; height: 22px" type="button" runat="server" title="Click to browse file"
                                                                            value="..." visible="False" />
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="15%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Scan Ref No" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:TextBox ID="txtScan" runat="server" Width="95%" MaxLength="12" Enabled="false"></asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="FilteredTextBoxExtender7" runat="server" TargetControlID="txtScan"
                                                                            FilterType="Numbers, Custom , UppercaseLetters, LowercaseLetters" ValidChars=" "
                                                                            Enabled="True">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="10%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Document">
                                                                    <ItemTemplate>
                                                                        <asp:LinkButton runat="server" ID="hyplnkView" OnClick="hyplnkView_Click" Text="View"></asp:LinkButton>
                                                                        <asp:Label runat="server" ID="lblPath" Text='<%# Eval("Scanned_Ref_No")%>' Visible="false"></asp:Label>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="5%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Remarks">
                                                                    <ItemTemplate>
                                                                        <asp:TextBox ID="txtRemarks" runat="server" Width="200px" Text='<%# Eval("Remarks")%>'
                                                                            TextMode="MultiLine" onkeyup="maxlengthfortxt(100)" MaxLength="100"></asp:TextBox>
                                                                        <cc1:FilteredTextBoxExtender ID="FilteredTextBoxExtender8" runat="server" TargetControlID="txtRemarks"
                                                                            FilterType="Numbers, Custom , UppercaseLetters, LowercaseLetters" ValidChars=" "
                                                                            Enabled="True">
                                                                        </cc1:FilteredTextBoxExtender>
                                                                    </ItemTemplate>
                                                                    <HeaderStyle HorizontalAlign="Center" CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="15%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="Collected">
                                                                    <ItemTemplate>
                                                                        <asp:CheckBox ID="CbxCheck" runat="server" />
                                                                    </ItemTemplate>
                                                                    <HeaderStyle CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="5%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="IsScanned" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblScanned" runat="server" Text='<%#Bind("IS_NeedScanCopy") %>' />
                                                                    </ItemTemplate>
                                                                    <HeaderStyle CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="5%" />
                                                                </asp:TemplateField>
                                                                <asp:TemplateField HeaderText="IsMandatory" Visible="false">
                                                                    <ItemTemplate>
                                                                        <asp:Label ID="lblMandatory" runat="server" Text='<%#Bind("IS_Mandatory") %>' />
                                                                    </ItemTemplate>
                                                                    <HeaderStyle CssClass="styleGridHeader" />
                                                                    <ItemStyle HorizontalAlign="Center" Width="5%" />
                                                                </asp:TemplateField>
                                                            </Columns>
                                                        </asp:GridView>
                                                        <br />
                                                    </div>
                                                </asp:Panel>
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>
                    <%--  <cc1:TabPanel ID="TabPrintOptions" runat="server" HeaderText="Print Quote" BackColor="Red"
                        CssClass="tabpan" Visible="false" Width="99%">
                        <ContentTemplate>
                            <asp:UpdatePanel ID="UpdatePanel7" runat="server">
                                <ContentTemplate>
                                    <table width="100%">
                                        <tr>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblRepayment" runat="server" Text="Business offer with repayment schedule"
                                                    Visible="false"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkRepaymentPrint" runat="server" Text="Print" Visible="false" />
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkRepaymentEmail" runat="server" Text="Email" Visible="false" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblDocument" runat="server" Text="Business offer with document" Visible="false"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkDocumentPrint" runat="server" Text="Print" Visible="false" />
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkDocumentEmail" runat="server" Text="Email" Visible="false" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="styleFieldLabel">
                                                <asp:Label ID="lblDocwithRepayment" runat="server" Text="Print Quote"></asp:Label>
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkDocwithRepaymentPrint" runat="server" Text="Print" AutoPostBack="true"
                                                    OnCheckedChanged="chkDocwithRepaymentPrint_OnCheckedChanged" />
                                            </td>
                                            <td class="styleFieldAlign">
                                                <asp:CheckBox ID="chkDocwithRepaymentEmail" runat="server" Text="Email" />
                                            </td>
                                        </tr>
                                    </table>
                                </ContentTemplate>
                            </asp:UpdatePanel>
                        </ContentTemplate>
                    </cc1:TabPanel>--%>
                </cc1:TabContainer>
                <%--</a>--%>
            </td>
        </tr>
        <tr>
            <td align="center">
                <asp:Button ID="btnSave" runat="server" Text="Save" CssClass="styleSubmitButton"
                    OnClientClick="return fnCheckPageValidators('Pricing')" OnClick="btnSave_Click"
                    ValidationGroup="btnSave" />
                <asp:Button ID="btnClear" runat="server" Text="Clear" CssClass="styleSubmitButton"
                    CausesValidation="false" OnClientClick="return fnConfirmClear();" OnClick="btnClear_Click" />
                <asp:Button ID="btnCancel" runat="server" Text="Cancel" CssClass="styleSubmitButton"
                    CausesValidation="false" OnClick="btnCancel_Click" />
                <asp:Button ID="btnWithdraw" runat="server" Text="Withdraw Pricing" CssClass="styleSubmitButton"
                    OnClientClick="return Confirmmsg('Are you sure you want to withdraw Pricing?'); "
                    CausesValidation="false" OnClick="btnWithdraw_Click" />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <asp:ValidationSummary ID="vsPricing" runat="server" CssClass="styleMandatoryLabel"
                    HeaderText="Correct the following validation(s):" ValidationGroup="Main Page" />
                <asp:ValidationSummary ID="vs_TabOfferTerms2" runat="server" CssClass="styleMandatoryLabel"
                    ValidationGroup="TabOfferTerms2" HeaderText="Correct the following validation(s): " />
                <asp:ValidationSummary ID="vs_TabOfferTerms1" runat="server" CssClass="styleMandatoryLabel"
                    ValidationGroup="TabOfferTerms1" HeaderText="Correct the following validation(s): " />
                <asp:ValidationSummary ID="vs_TabRepayment" runat="server" CssClass="styleMandatoryLabel"
                    ValidationGroup="TabRepayment1" HeaderText="Correct the following validation(s): " />
                <asp:Label runat="server" ID="lblErrorMessage" CssClass="styleMandatoryLabel"></asp:Label>
                <asp:ValidationSummary ID="vs_gvFollowUp" runat="server" CssClass="styleMandatoryLabel"
                    HeaderText="Correct the following validation(s): " ValidationGroup="gvFollowUp1" />
                <asp:ValidationSummary ID="vs_TabAlert1" runat="server" CssClass="styleMandatoryLabel"
                    HeaderText="Correct the following validation(s): " ValidationGroup="TabAlert1" />
                <asp:ValidationSummary ID="ValidationSummary1" runat="server" CssClass="styleMandatoryLabel"
                    HeaderText="Correct the following validation(s): " ValidationGroup="TabAddAssetDetails" />
                <asp:CustomValidator ID="cvPricing" runat="server" CssClass="styleMandatoryLabel"
                    Enabled="true" Width="98%" />
            </td>
        </tr>
    </table>
    <%--<tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="Label1" runat="server" Text="Customer Code"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtCustomerCode" runat="server" ReadOnly="true"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="lblCustomerName" runat="server" Text="Customer Name"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtCustomerName" runat="server" ReadOnly="true" Style="margin-left: 0px"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="lblCustomerAddress1" runat="server" Text="Address"></asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtCustomerAddress" runat="server" Width="190px" TextMode="MultiLine"
                                                                                Rows="4" ReadOnly="true"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="lblMobileNo" runat="server" CssClass="styleDisplayLabel">Mobile No</asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtMobileNo" runat="server" ReadOnly="True" Style="text-align: right;"
                                                                                Width="80PX"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="lblEmailID" runat="server" CssClass="styleDisplayLabel">EmailID</asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtEmailID" runat="server" ReadOnly="True" Width="200px"></asp:TextBox>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="styleFieldLabel" style="width: 180px">
                                                                            <asp:Label ID="lblWebsite" runat="server" CssClass="styleDisplayLabel">Web Site</asp:Label>
                                                                        </td>
                                                                        <td class="styleFieldAlign">
                                                                            <asp:TextBox ID="txtWebSite" runat="server" ReadOnly="True" Width="200px"></asp:TextBox>
                                                                        </td>
                                                                    </tr>--%>

    <script language="javascript" type="text/javascript">

        var bResult;
        function fnCheckPageValidation(grpName) {

            if ((!fnCheckPageValidators(grpName, 'false')) && (Page_ClientValidate(grpName) == false)) {
                Page_BlockSubmit = false;
                return false;
            }
            if (Page_ClientValidate(grpName)) {
                bResult = true;
                if (bResult) {
                    bResult = fnIsCheckboxCheckedDoc('<%=grvConsDocuments.ClientID%>', 'chkSel', 'document from constitutional documents');
                    //bResult = fnisMandatoryChecked();
                }

                return bResult;
            }
        }

        function fnisMandatoryChecked() {

            var bCollectedChecked = true;
            var bScanChecked = true;
            var TargetBaseControl =
           document.getElementById('<%= this.grvConsDocuments.ClientID %>');

            //Get all the control of the type INPUT in the base control.
            var Inputs = TargetBaseControl.getElementsByTagName("input");

            //Checked/Unchecked all the checkBoxes in side the GridView.
            for (var n = 0; n < Inputs.length; ++n) {
                if (Inputs[n].type == 'checkbox') {
                    if ((Inputs[n].id.indexOf('chkOptMan', 0) >= 0) && ((document.getElementById(Inputs[n].id)).checked)) {
                        if (document.getElementById(Inputs[n].id.replace('chkOptMan', 'chkCollected')).checked)
                            bCollectedChecked = true;
                        else {
                            bCollectedChecked = false;
                            break;
                        }
                    }

                    if ((Inputs[n].id.indexOf('chkImageCopy', 0) >= 0) && ((document.getElementById(Inputs[n].id)).checked)) {
                        if (document.getElementById(Inputs[n].id.replace('chkImageCopy', 'chkScanned')).checked)
                            bScanChecked = true;
                        else {
                            bScanChecked = false;
                            break;
                        }
                    }
                }
            }

            if (!bCollectedChecked) {
                alert('All mandatory documents should be collected');
                return bCollectedChecked;
            }
            if (!bScanChecked) {
                alert('All documents which require image copy should be scanned');
                return bScanChecked;
            }
            else {
                return true;
            }

        }

        function fnIsCheckboxCheckedDoc(grdid, objid, msg) {

            var chkbox;
            var objRemarksID;
            var objTxtRemarks;
            var reqRemarks;
            var txtRemarks;
            var bChecked = true;
            var bRemarks = true;
            var i = 2;
            //var gridId = 'ctl00_ContentPlaceHolder1_' + grdid ;
            var gridId = grdid;
            //objRemarksID='rfvRemarks';
            objTxtRemarks = 'txtRemarks';
            chkbox = document.getElementById(gridId + '_ctl0' + i + '_' + objid);
            //reqRemarks=document.getElementById(gridId + '_ctl0' + i + '_' + objRemarksID);
            txtRemarks = document.getElementById(gridId + '_ctl0' + i + '_' + objTxtRemarks);
            while ((chkbox != null)) {
                txtRemarks.className = "styleReqFieldDefalut";
                if (chkbox.checked) {

                    bChecked = true;

                    //if(txtRemarks.value!='')
                    //  {
                    //reqRemarks.enabled=false;      
                    //}
                    if (txtRemarks.value == '') {
                        bRemarks = false;
                        txtRemarks.className = "styleReqFieldFocus";
                        //reqRemarks.enabled=true;      
                    }
                    //break;
                }
                i = i + 1;
                if (i <= 9) {
                    chkbox = document.getElementById(gridId + '_ctl0' + i + '_' + objid);
                    //reqRemarks = document.getElementById(gridId + '_ctl0' + i + '_' + objRemarksID);
                    txtRemarks = document.getElementById(gridId + '_ctl0' + i + '_' + objTxtRemarks);
                }
                else {
                    chkbox = document.getElementById(gridId + '_ctl' + i + '_' + objid);
                    //reqRemarks = document.getElementById(gridId + '_ctl' + i + '_' + objRemarksID);
                    txtRemarks = document.getElementById(gridId + '_ctl' + i + '_' + objTxtRemarks);
                }
            }

            if ((bChecked) && (bRemarks))
                return true;
            if (!bChecked) {
                alert('Select atleast one ' + msg);
                return false;
            }

            if (!bRemarks) {
                alert('Enter remarks for the selected document(s)');
                return false;
            }

        }

       
      
    
    </script>

    <script type="text/javascript" language="javascript">
        var tab;

        function pageLoad() {
            tab = $find('ctl00_ContentPlaceHolder1_tcPricing');

            var querymode = location.search.split("qsMode=");
            if (querymode.length > 1) {
                if (querymode[1].length > 1) {
                    querymode = querymode[1].split("&");
                    querymode = querymode[0];
                }
                else {
                    querymode = querymode[1];
                }
                if (querymode != 'Q') {

                    tab.add_activeTabChanged(on_Change);
                    var newindex = tab.get_activeTabIndex(index);
                    var btnSave = document.getElementById('<%=btnSave.ClientID %>')
                    if (newindex == tab._tabs.length - 1)
                        btnSave.disabled = false;
                    else
                        btnSave.disabled = true;
                }
                else {
                    var lobcode = FunGetSelectedLob();

                    switch (lobcode.toLowerCase()) {
                        case "te": //Term loan Extensible
                        case "tl": //Term loan
                        case "ft": //Factoring 
                        case "wc": //Working Capital
                            tab.get_tabs()[2].set_enabled(false);
                            break;
                        default:
                            tab.get_tabs()[2].set_enabled(true);
                            break;
                    }
                }
            }
        }
        function funShowCustomer() {
            window.opener = top;
            //  window.close();
            var params = 'width=' + (screen.width - 40);
            params += ',height=' + (screen.height - 50);
            params += ',top=0,left=0';
            params += ',toolbar=no,status=yes,menubar=no,resizable=no';
            window.open("S3GORGCustomerMaster.aspx", null, params);



        }

        function funcalassetvalue() {

            if (document.getElementById('<%=txtUnitCount.ClientID %>').value != "" && document.getElementById('<%=txtUnitValue.ClientID %>').value != "") {

                var varTotalAmt;

                varTotalAmt = ((parseFloat(document.getElementById('<%=txtUnitCount.ClientID %>').value) *
                    parseFloat(document.getElementById('<%=txtUnitValue.ClientID %>').value)).toFixed(document.getElementById('<%=HdnGPSDecimal.ClientID %>').value));
                /* Discussed with Vasanth and Saran - Asset Value Should be ( Unit Count * Unit Value ) 
                Should not consider the Margin Amount.
                if (document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value != "")
                {
                varTotalAmt=(varTotalAmt-parseFloat(document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value)).toFixed(2);
                }*/

                document.getElementById('<%=txtTotalAssetValue.ClientID %>').value = varTotalAmt; //-varMarginAmt;
                funcalassetMarginAmt();
            }
        }

        function funcalassetMarginAmt() {
            var varTotalAmt;
            if (document.getElementById('<%=txtMarginPercentage.ClientID %>').value != "" && document.getElementById('<%=txtTotalAssetValue.ClientID %>').value != "") {

                varTotalAmt = (parseFloat(document.getElementById('<%=txtTotalAssetValue.ClientID %>').value) *
                    (parseFloat(document.getElementById('<%=txtMarginPercentage.ClientID %>').value) / 100).toFixed(2));
                document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value = "";
                document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value = varTotalAmt.toFixed(document.getElementById('<%=HdnGPSDecimal.ClientID %>').value); //-varMarginAmt;

                document.getElementById('<%=txtMarginAmountAsset.ClientID %>').disabled = true;
            }
            else {
                document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value = "";
                document.getElementById('<%=txtMarginAmountAsset.ClientID %>').disabled = false;
            }
        }

        function funResetassetMarginPercent() {
            if (document.getElementById('<%=txtMarginAmountAsset.ClientID %>').value != "") {
                document.getElementById('<%=txtMarginPercentage.ClientID %>').value = "";
                document.getElementById('<%=txtMarginPercentage.ClientID %>').disabled = true; //-varMarginAmt;
            }
            else {
                document.getElementById('<%=txtMarginPercentage.ClientID %>').disabled = false;
            }
        }

        function ToggleResidualvalue(Obj1, Obj2) {
            if (Obj1.value != "") {

                if (Obj1.id == '<%=txtResidualAmt_Cashflow.ClientID%>') {
                    document.getElementById('<%=rfvResidualValue.ClientID%>').enabled = false;
                }
                Obj2.valueOf = "";
                Obj2.setAttribute("readOnly", "readOnly");

            }
            else {

                if (Obj1.id == '<%=txtResidualAmt_Cashflow.ClientID%>') {

                    document.getElementById('<%=rfvResidualValue.ClientID%>').enabled = true;
                }
                Obj2.removeAttribute("readOnly");

            }
        }

        function ToggleResidual(Obj1, Obj2) {

            if (Obj1.value != "") {
                Obj2.setAttribute("readOnly", "readOnly");
            }
            else {
                Obj2.removeAttribute("readOnly");
            }

        }


        function FunRestIrr() {
            //document.getElementById('<%=txtCompanyIRR_Repay.ClientID %>').value = "";
            document.getElementById('<%=txtBusinessIRR_Repay.ClientID %>').value = "";

        }
        function TypeInOtherTtextBox(Obj1, Obj2) {

            if (Obj1.value != undefined) {
                Obj2.value = Obj1.value;
            }


        }
        var index = 0;
        function on_Change(sender, e) {
            //tab = $find('ctl00_ContentPlaceHolder1_tcPricing');
            //debugger;
            var strValgrp = tab._tabs[index]._tab.outerText.trim();
            var Valgrp = document.getElementById('<%=vsPricing.ClientID %>')
            var btnSave = document.getElementById('<%=btnSave.ClientID %>')
            //btnSave.disabled=true;
            Valgrp.validationGroup = strValgrp;
            var newindex = tab.get_activeTabIndex(index);
            if (newindex == tab._tabs.length - 1)
                btnSave.disabled = false;
            else
                btnSave.disabled = true;
            if (newindex > index) {
                if (!fnCheckPageValidators(strValgrp, false)) {
                    tab.set_activeTabIndex(index);

                }
                else {
                    var lobcode = FunGetSelectedLob();
                    var IsAssetAvail;
                    var IsCheckAssetAvail;
                    switch (lobcode.toLowerCase()) {
                        //Code commented to enable Asset tab for "TL" & "TE" - kuppu - Jun-18          
                        //case "te": //Term loan Extensible    
                        //case "tl": //Term loan                                  

                        case "ft": //Factoring 
                        case "wc": //Working Capital

                            tab.get_tabs()[2].set_enabled(false);
                            if ((lobcode.toLowerCase() == "ft") || (lobcode.toLowerCase() == "wc")) {
                                //Code added to disable Repayment tab for Ft and WC - Kuppu - June-07-2012
                                tab.get_tabs()[3].set_enabled(false);
                            }
                            IsAssetAvail = "No";
                            break;
                        default:
                            tab.get_tabs()[2].set_enabled(true);
                            tab.get_tabs()[3].set_enabled(true);
                            IsAssetAvail = "Yes";
                            break;
                    }
                    switch (lobcode.toLowerCase()) {
                        //Code commented to enable Asset tab for "TL" & "TE" - kuppu - Jun-18      
                        //case "te": //Term loan Extensible    
                        //case "tl": //Term loan    
                        case "ft": //Factoring 
                        case "wc": //Working Capital
                        case "ln": //Working Capital
                            IsCheckAssetAvail = false;

                            break;
                        default:
                            IsCheckAssetAvail = true;

                            break;
                    }
                    switch (newindex) {
                        case 6:
                        case 7:
                            if (IsAssetAvail == "Yes") {
                                btnSave.disabled = false;
                            }
                            break;
                        case 5:
                            if (IsAssetAvail == "No") {
                                btnSave.disabled = false;
                            }
                            break;
                    }
                    switch (index) {
                        case 1:

                            if (lobcode.toLowerCase() != 'ol') {
                                if (FunCheckGridIsEmpty('<%=gvOutFlow.ClientID %>', 'Yes')) {
                                    index = tab.get_activeTabIndex(index);
                                    //document.getElementById('<%=btnCalIRR.ClientID %>').click();
                                }
                                else {
                                    tab.set_activeTabIndex(index);

                                    alert('Add atleast one Outflow details');
                                    return;
                                }
                            }
                            else {
                                index = tab.get_activeTabIndex(index);
                            }
                            break;
                        case 2:
                            if (IsAssetAvail == "No") {
                                if (FunCheckGridIsEmpty('<%=gvRepaymentSummary.ClientID %>', 'No')) {
                                    index = tab.get_activeTabIndex(index);
                                }
                                else {
                                    tab.set_activeTabIndex(index);
                                    //Valgrp.errormessage="Add atleast one Repayment details";
                                    alert('Add atleast one Repayment details');
                                }
                            }
                            else {
                                if (IsCheckAssetAvail) {
                                    if (FunCheckGridIsEmpty('<%=gvAssetDetails.ClientID %>', 'No')) {
                                        index = tab.get_activeTabIndex(index);
                                    }
                                    else {
                                        switch (lobcode.toLowerCase()) {
                                            case "te": //Term loan Extensible
                                                tab.set_activeTabIndex(index + 1);
                                                break;
                                            case "tl": //Term loan
                                                tab.set_activeTabIndex(index + 1);
                                                break;
                                            default:
                                                tab.set_activeTabIndex(index);
                                                //Valgrp.errormessage="Add atleast one asset details";
                                                alert('Add atleast one asset details');
                                                return;

                                                break;
                                        }
                                        //                                         tab.set_activeTabIndex(index);
                                        //                                         //Valgrp.errormessage="Add atleast one asset details";
                                        //                                         alert('Add atleast one asset details');
                                        //                                         return;   
                                    }
                                }
                                else {
                                    index = tab.get_activeTabIndex(index);
                                }
                            }

                            break;
                        case 3:
                            //                            if(IsAssetAvail=="No")
                            //                            {
                            //                                if(FunCheckGridIsEmpty('<%=gvAlert.ClientID %>','Yes'))
                            //                                {
                            //                                    index=tab.get_activeTabIndex(index);
                            //                                }
                            //                                else
                            //                                {
                            //                                     tab.set_activeTabIndex(index);
                            //                                     //Valgrp.errormessage="Add atleast one Alert details";
                            //                                     alert('Add atleast one Alert details');   
                            //                                }
                            //                            }
                            //                            else
                            //                            {
                            if (FunCheckGridIsEmpty('<%=gvRepaymentSummary.ClientID %>', 'No')) {
                                index = tab.get_activeTabIndex(index);
                            }
                            else {
                                tab.set_activeTabIndex(index);
                                //Valgrp.errormessage="Add atleast one Repayment details";
                                alert('Add atleast one Repayment details');
                            }
                            //                            }


                            break;
                        case 4:
                            index = tab.get_activeTabIndex(index);
                            break;
                        case 5:
                            index = tab.get_activeTabIndex(index);
                            break;

                        default:
                            index = tab.get_activeTabIndex(index);
                            break;
                    }

                    if (newindex == 3) {
                        if (document.getElementById('<%=txtBusinessIRR_Repay.ClientID %>').value == "") {
                            document.getElementById('<%=btnGenerateRepay.ClientID %>').click();
                        }
                    }
                }

            }
            else {
                tab.set_activeTabIndex(newindex);
                index = tab.get_activeTabIndex(newindex);

            }

        }
        function FunGetSelectedLob() {
            var ddlLob = document.getElementById('<%=ddlLob.ClientID %>');
            return ddlLob.item(ddlLob.selectedIndex).text.split('-')[0].trim();
        }

        function FunCheckGridIsEmpty(gridview, isfooterexists) {
            if (document.getElementById(gridview) == null) {
                return false;
            }
            var table = document.getElementById(gridview);
            var rows = table.getElementsByTagName("tr");
            if (isfooterexists == 'No') {
                if (rows.length > 1) {
                    return true;
                }
                else {
                    return false;
                }
            }
            else {
                if (rows.length > 2) {
                    return true;
                }
                else {
                    return false;
                }
            }
        }

        function FunChkAllFooterValues(gridid) {

            //  debugger;
            //Get all the control of the type INPUT in the base control.
            var Combos = gridid.getElementsByTagName("select");
            for (var n = 0; n < Combos.length; ++n) {
                if (Combos[n].innerText == "") {
                    return false;
                }
            }
        }
        function FunddlRoiOnChange(varRoiPayment) {
            var Prevval;
            var Dropdown;
            if (varRoiPayment == 'Payment') {
                Prevval = document.getElementById('<%=hdnPayment.ClientID %>').value;
                Dropdown = document.getElementById('<%=ddlPaymentRuleList.ClientID %>')
            }
            else {
                Prevval = document.getElementById('<%=hdnROIRule.ClientID %>').value;
                Dropdown = document.getElementById('<%=ddlROIRuleList.ClientID %>')
            }
            if (Prevval != "") // IF Change the Existing value
            {
                if (Prevval != Dropdown.value.trim()) {
                    if (confirm('All cashflow related details will be reset. Are you sure want to continue?')) {
                        return true;
                    }
                    else {
                        Dropdown.value = Prevval;
                        return false;
                    }
                }
                else {
                    return false; // If value not changed.
                }
            }
            else // At First Time
            {
                if (Dropdown.value.trim() > 0) {
                    return true;
                }
                else // Without selecting the value
                {
                    return false;
                }
            }
        }

        function uploadComplete(sender, args) {
            var objID = sender._inputFile.id.split("_");
            objID = "<%= gvPRDDT.ClientID %>" + "_" + objID[5];
            if (document.getElementById(objID + "_myThrobber") != null) {
                document.getElementById(objID + "_myThrobber").innerText = args._fileName;
                document.getElementById(objID + "_hidThrobber").value = args._fileName;
            }
        }


        function checkOfferDate(sender, args) {
            var varEnquiryDate = document.getElementById('<%=txtEnquiryDate.ClientID %>').value;
            var varSanctionDate = document.getElementById('<%=txtSanctionDate.ClientID %>').value;
            var varOfferDate = document.getElementById('<%=txtOfferDate.ClientID %>').value;


            var varBusOfferdate = Date.parseInvariant(varOfferDate, sender._format);
            var selectedDate = sender._selectedDate;
            var today = new Date();
            if (varEnquiryDate != '') {
                var varEnqdate = Date.parseInvariant(varEnquiryDate, sender._format);
                if (selectedDate < varEnqdate) {
                    alert('InflowDate should be greater than or equal to Enquiry Date');
                    sender._textbox.set_Value(varEnqdate.format(sender._format));
                    return;
                }
                else {
                    sender._textbox.set_Value(selectedDate.format(sender._format));
                    return;
                }

            }
            else if (varSanctionDate != '') {
                var varSancdate = Date.parseInvariant(varSanctionDate, sender._format);
                if (selectedDate < varSancdate) {
                    alert('InflowDate should be greater than or equal to Sanction Date');
                    sender._textbox.set_Value(varSancdate.format(sender._format));
                    return;
                }
                else {
                    sender._textbox.set_Value(selectedDate.format(sender._format));
                    return;
                }
            }
            else {
                if (selectedDate < varBusOfferdate) {
                    alert('InflowDate should be greater than or equal to Offer Date');
                    sender._textbox.set_Value(varBusOfferdate.format(sender._format));
                    return;
                }
                else {
                    sender._textbox.set_Value(selectedDate.format(sender._format));
                    return;
                }
            }
        }


        function hideModalPopupViaClient() {
            //ev.preventDefault();        
            var modalPopupBehavior = $find('programmaticModalPopupBehavior');
            modalPopupBehavior.hide();
        }
        
      
    </script>

</asp:Content>
