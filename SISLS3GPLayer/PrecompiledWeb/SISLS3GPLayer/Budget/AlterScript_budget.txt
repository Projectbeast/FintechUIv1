--Added by Gomathi on 21-Nov-19 for Budget Changes
--in COA

create sequence SEQ_FA_BUD_LOCATION_MST minvalue 1 maxvalue 999999999 increment by 1 start with 1 nocache noorder nocycle ;
create sequence SEQ_FA_BUD_COA_MST minvalue 1 maxvalue 999999999 increment by 1 start with 1 nocache noorder nocycle ;
create sequence SEQ_FA_Bud_COA_Location minvalue 1 maxvalue 999999999 increment by 1 start with 1 nocache noorder nocycle ;


alter table Fa_Account_master add Budget_Appl number;

Alter table FA_GLOBALPARAMETER_SETUP ADD BUDGET_ALONE NUMBER;


CREATE TABLE FA_BUD_COA_MST
  (
    FA_COA_MST_ID NUMBER NOT NULL ENABLE,
    COMPANY_ID    NUMBER,
    USER_ID       NUMBER,
    CREATED_ON DATE,
    GL_CODE        VARCHAR2(50 BYTE),
    ACCOUNT_NATURE NUMBER,
    GL_DESC        VARCHAR2(100 BYTE)
  );
  
  CREATE TABLE FA_BUD_COA_LOCATION
  (
    FA_COA_LOC_ID NUMBER NOT NULL ENABLE,
    COMPANY_ID    NUMBER,
    USER_ID       NUMBER,
    CREATED_ON DATE,
    GL_CODE     VARCHAR2(50 BYTE),
    LOCATION_ID NUMBER,
    ACCOUNT_ID  NUMBER
  );
 
 
 CREATE TABLE FA_BUD_LOCATION_MST
  (
    COMPANY_ID NUMBER,
    USER_ID    NUMBER,
    CREATED_ON DATE,
    LOCATION_ID          NUMBER,
    LOCATION_CODE        VARCHAR2(20 BYTE),
    LOCATION_CATEGORY_ID NUMBER
  );
  
  CREATE TABLE FA_BUD_LOCATION_CAT
  (
    LOCATION_CATEGORY_ID NUMBER,
    LOCATION_NAME        VARCHAR2(200 BYTE)
  );
  
  grant select , insert,update on FA_BUD_LOCATION_MST to mfcstu;
grant select , insert,update on FA_BUD_LOCATION_CAT to mfcstu;
create synonym SYN_FA_BUD_LOCATION_MST for S3GMFCFASTU.FA_BUD_LOCATION_MST;
create synonym SYN_FA_Bud_Loca_Cat for s3gmfcfastu.FA_Bud_Location_Cat;

--Added by Deepika on 21-Nov-19 for Budget Changes
--in Budget Line Item Master

INSERT INTO s3g_sysad_modulemaster (module_id, module_code,module_name,is_active,created_by,created_on)
SELECT 39,'FB','Budget',1,1,sysdate from dual;


CREATE OR REPLACE SYNONYM S3GMFCFADEV.SYN_S3G_SYSAD_LOBMASTER FOR MFCDEV.S3G_SYSAD_LOBMASTER;
CREATE OR REPLACE SYNONYM MFCDEV.SYN_FA_SYS_GETUSERACTIVITYDTL FOR S3GMFCFADEV.FA_SYS_GETUSERACTIVITYDTL;
CREATE OR REPLACE SYNONYM MFCDEV.SYN_FA_SYS_GETUSERLOCROLEDTLS FOR S3GMFCFADEV.FA_SYS_GETUSERLOCROLEDETAILS;
 



INSERT INTO FA_SYS_PROGRAMMASTER(PROGRAM_ID,PROGRAM_CODE,PROGRAM_NAME,MODULE_CODE,PROGRAM_REF_NO,IS_ACTIVE,CREATED_BY,CREATED_ON,
PAGE_URL,DETAIL_URL)
SELECT 436,'BLM','Budget Line Item Master','FB',436,1,1,sysdate,'FA_BGT_LineItemMaster_View.aspx','FA_BGT_LineItemMaster_Add.aspx'
from FA_SYS_PROGRAMMASTER program_id=435;



INSERT INTO FA_SYS_PROGRAMMASTER(PROGRAM_ID,PROGRAM_CODE,PROGRAM_NAME,MODULE_CODE,PROGRAM_REF_NO,IS_ACTIVE,CREATED_BY,CREATED_ON,
PAGE_URL,DETAIL_URL)
SELECT 438,'BSLM','Budget Sub Line Item Master','FB',438,1,1,sysdate,'FA_BGT_SubLineItemMaster_View.aspx','FA_BGT_SubLineItemMaster_Add.aspx'
from FA_SYS_PROGRAMMASTER where program_id=435;

 --------------------------------------------------------
--  DDL for Table FA_BUD_LINEITEM_DTL
--------------------------------------------------------

 CREATE TABLE FA_BUD_LINEITEM_DTL
  (
    LINEITEMDTL_ID     NUMBER NOT NULL ENABLE,
    LINEITEMMST_ID     NUMBER,
    LINE_ITEM_ID       NUMBER,
    SUB_LINE_ITEM_APPL NUMBER,
    EFFECTIVE_FROM DATE,
    EFFECTIVE_TO DATE,
    CONSTRAINT FA_BUD_LINEITEM_DTL_PK PRIMARY KEY (LINEITEMDTL_ID) USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE FADEV ENABLE,
    CONSTRAINT FA_BUD_LINEITEM_DTL_FA_BU_FK1 FOREIGN KEY (LINEITEMMST_ID) REFERENCES S3GMFCFADEV.FA_BUD_LINEITEM_MST (LINEITEMMST_ID) ENABLE
  )
--------------------------------------------------------
--  DDL for Table FA_BUD_LINEITEM_MST
--------------------------------------------------------

 CREATE TABLE FA_BUD_LINEITEM_MST
  (
    LINEITEMMST_ID NUMBER NOT NULL ENABLE,
    COMPANY_ID     NUMBER,
    USER_ID        NUMBER,
    CREATED_ON DATE,
    MODIFIED_ON DATE,
    MODIFIED_BY       NUMBER,
    ITEM_HDR_ID       NUMBER,
    ACCOUNT_NATURE_ID NUMBER,
    IS_ACTIVE         NUMBER,
    CONSTRAINT FA_BUD_LINEITEM_MST_PK PRIMARY KEY (LINEITEMMST_ID) USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE FADEV ENABLE
  )
   
   --------------------------------------------------------
--  DDL for Table FA_BUD_SUBLINEITEM_DTL
--------------------------------------------------------

  CREATE TABLE FA_BUD_SUBLINEITEM_DTL
  (
    SUBLINEITEMDTL_ID  NUMBER NOT NULL ENABLE,
    SUBLINEITEMMST_ID  NUMBER,
    SUBLINE_ITEM_ID    NUMBER,
    SUB_LINE_ITEM_TYPE NUMBER,
    EFFECTIVE_FROM DATE,
    EFFECTIVE_TO DATE,
    CONSTRAINT FA_BUD_SUBLINEITEM_DTL_PK PRIMARY KEY (SUBLINEITEMDTL_ID) USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE FADEV ENABLE,
    CONSTRAINT FA_BUD_SUBLINEITEM_DTL_FA_FK1 FOREIGN KEY (SUBLINEITEMMST_ID) REFERENCES S3GMFCFADEV.FA_BUD_SUBLINEITEM_MST (SUBLINEITEMMST_ID) ENABLE
  )
   
   --------------------------------------------------------
--  DDL for Table FA_BUD_SUBLINEITEM_MST
--------------------------------------------------------

  CREATE TABLE FA_BUD_SUBLINEITEM_MST
  (
    SUBLINEITEMMST_ID NUMBER NOT NULL ENABLE,
    COMPANY_ID        NUMBER,
    USER_ID           NUMBER,
    CREATED_ON DATE,
    MODIFIED_ON DATE,
    MODIFIED_BY       NUMBER,
    ITEM_HDR_ID       NUMBER,
    LINE_ITEM_ID      NUMBER,
    SUB_TOTAL         NUMBER,
    SUB_TOTAL_NAME    VARCHAR2(200 BYTE),
    IS_ACTIVE         NUMBER,
    ACCOUNT_NATURE_ID NUMBER,
    CONSTRAINT FA_BUD_SUBLINEITEM_MST_PK PRIMARY KEY (SUBLINEITEMMST_ID) USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE FADEV ENABLE
  )

--------------------------------------------------------
--  DDL for Table TMP_BUD_LINEITEMDETAILS
--------------------------------------------------------

  CREATE GLOBAL TEMPORARY TABLE TMP_BUD_LINEITEMDETAILS 
   (	ID NUMBER, 
	LINEITEMID NUMBER, 
	SUBLINEITEMAPPLICABLE NUMBER, 
	EFFECTIVEFROM DATE, 
	EFFECTIVETO DATE
   ) ON COMMIT PRESERVE ROWS ;

  
 --------------------------------------------------------
--  DDL for Table TMP_BUD_LINEITEMVIEWDETAILS
--------------------------------------------------------

  CREATE GLOBAL TEMPORARY TABLE TMP_BUD_LINEITEMVIEWDETAILS 
   (	CREATED_BY VARCHAR2(200 BYTE), 
	ITEM_HEADER VARCHAR2(400 BYTE), 
	ACCOUNT_NATURE VARCHAR2(400 BYTE), 
	STATUS VARCHAR2(100 BYTE), 
	CREATED_ON VARCHAR2(200 BYTE), 
	SNO NUMBER, 
	LINEITEM_MSTRID NUMBER
   ) ON COMMIT PRESERVE ROWS ;

--------------------------------------------------------
--  DDL for Table BUD_ITEMS_LOOKUP
--------------------------------------------------------

  CREATE TABLE BUD_ITEMS_LOOKUP 
   (	VALUE NUMBER, 
	DESCRIPTION VARCHAR2(400 BYTE), 
	TYPE VARCHAR2(5 BYTE)
   )  



line items
----------
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(1,'P and L items','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(2,'Rate assumptions','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(3,'IRR on new business','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(4,'Volume assumptions','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(5,'Dividend','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(6,'Return on equity','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(7,'Return on assets ','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(8,'Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(9,'Provision for impairment','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(10,'Deferral','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(11,'Inflow','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(12,'Outflow','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(13,'Balance before interest','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(14,'Interest expense','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(15,'Bank charges','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(16,'Closing balance','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(17,'Closing borrowing figures','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(18,'Less: UMFC','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(19,'Short term working capital funding','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(20,'Reserve Interest','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(21,'Staff Cost','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(22,'Staff Training Cost','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(23,'Office Rent','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(24,'Communication','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(25,'Printing and Stationery','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(26,'Office Electricity and Water','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(27,'Local Conveyence','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(28,'Marketing and Promotion','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(29,'Regulatory Fees','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(30,'Case Filing Fees','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(31,'Other Professional Fees','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(32,'Repair and Maintainance','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(33,'Insurance Premium','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(34,'E C/Board Meeting Fees','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(35,'Miscellaneous Expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(36,'Special Assignments','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(37,'Contribution to Charitable Cause','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(38,'Software/DRS Expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(39,'Credit Card operating cost','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(40,'Overheads','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(41,'Depreciation / Impairment on Investment','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(42,'Director Remuneartion','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(43,'Office Equipment','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(44,'Office Furniture and Fixtures','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(45,'Computer','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(46,'Software','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(47,'Vehicles','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(48,'Household Furniture','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(49,'ASSETS ','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(50,'Equity','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(51,'Liabilities','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(52,'Net assets per share','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(53,'Debtors','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(54,'Debtors net of UMFC','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(55,'Debtors net of Provisions','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(56,'Gross Interest Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(57,'Vehicular','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(58,'Non-Vehicular','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(59,'Factoring','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(60,'Interest Expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(61,'Net Interest Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(62,'Other Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(63,'Fees,service charges and documentation chgs','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(64,'Other charges and Recoveries','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(65,'Operating Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(66,'Operating Expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(67,'Staff Costs','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(68,'Other operating expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(69,'Depreciation','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(70,'Total Operating Expenses','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(71,'Operating Profit','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(72,'Provision for Impairment','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(73,'Net Profit before Tax','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(74,'Taxation','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(75,'Net Profit after Tax','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(76,'YoY Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(77,'Gross Income Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(78,'Operating Income Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(79,'Overhead Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(80,'Net Profit Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(81,'Net Investment in Finance Debtors Growth','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(82,'Key Ratios','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(83,'Growth in','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(84,'Interest Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(85,'Operating  Income','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(86,'Interest Expense','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(87,'Staff Cost','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(88,'Yield - Company','L')
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(89,'Net Investment in Finance Debtors','L')

subline items
-------------
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(1,'Vehicular','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(2,'Non-Vehicular','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(3,'Factoring overall portfolio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(4,'Factoring portfolio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(5,'Working capital portfolio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(6,'Factoring','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(7,'Factoring turnover','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(8,'Working capital','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(9,'Credit card','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(10,'Total Provision','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(11,'Vehicular Foreclosure','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(12,'Non-Vehicular Foreclosure','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(13,'Foreclosures','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(14,'Vehicular Deferral','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(15,'Non-Vehicular Deferral','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(16,'Factoring Deferral','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(17,'Vehicular Foreclosure loss','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(18,'Non-Vehicular Foreclosure loss','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(19,'Foreclosure loss','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(20,'Vehicular ODI','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(21,'Non-Vehicular ODI','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(22,'ODI','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(23,'Other income','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(24,'Write off','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(25,'NPAs','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(26,'NPA %','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(27,'NPA incremental','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(28,'Provision coverage ratio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(29,'Vehicular - flat rate','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(30,'Nonvehicular - flat rate','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(31,'Factoring yield - true rate','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(32,'Interest cost','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(33,'NV','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(34,'Tenor -  Vehicular','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(35,'Tenor - NV','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(36,'Vehicular Collection','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(37,'Non-Vehicular Collection','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(38,'Collection efficiency','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(39,'Rate of provisioning-Vehicular','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(40,'Rate of provisioning-Non-Vehicular','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(41,'Factoring Provision','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(42,'Working Capital Provision','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(43,'Home Plan','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(44,'Profit before tax','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(45,'Debtors net of UMFC','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(46,'Debtors arising from financing activities','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(47,'Profit before tax growth','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(48,'Net Asset growth','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(49,'Cash Dividend','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(50,'Stock Dividend','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(51,'Revenue per employee (RO 000s)','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(52,'Profit per employee (RO 000s)','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(53,'# of employees','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(54,'Return on equity','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(55,'Return on assets ','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(56,'Dealer payments','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(57,'Run down of dealer balances','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(58,'Factoring payments','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(59,'Overheads','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(60,'Capital Expenditure','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(61,'Tax','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(62,'CBO Statutory deposit','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(63,'Dividend','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(64,'Total outflow','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(65,'Total inflow','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(66,'Balance before interest','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(67,'Interest expense','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(68,'Closing balance','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(69,'Closing borrowing figures','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(70,'Total demand','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(71,'Vehicular Collections','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(72,'Non-Vehicular Collections','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(73,'Collection on leases','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(74,'Factoring income','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(75,'Bank balance/Investment sale','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(76,'Demand on past business','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(77,'Demand on new business','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(78,'Total','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(79,'Gross Interest Income','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(80,'Interest Expenses','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(81,'Add: Schedule B','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(82,'Less: Collections','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(83,'Foreclosures','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(84,'Write Off','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(85,'Gross Debtors','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(86,'Opening Balance','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(87,'Add:     UMFC Credits','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(88,'Less:   UMFC debits','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(89,'Closing balance of UMFC','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(90,'Provisions:','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(91,'Opening balance','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(92,'Add:   Provisions for the year','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(93,'Less: Write off of debts','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(94,'Balance at the end of the year','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(95,'Add:  Interest reserved for the year','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(96,'Debtors net of Provisions','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(97,'Net asset ','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(98,'Cash and cash equivalents ','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(99,'Deposit with Central Bank of Oman','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(100,'Provisions ','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(101,'NPLs','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(102,'Other debtors and prepaid expenses','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(103,'Vehicles, furniture and equipment','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(104,'Deferred tax asset','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(105,'Investment','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(106,'Total assets','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(107,'Share capital','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(108,'Legal reserve','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(109,'Special reserve','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(110,'Retained earnings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(111,'Fair Value Reserve','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(112,'Total equity','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(113,'Bank borrowings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(114,'Non-Convertible Bonds','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(115,'Corporate Deposits','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(116,'Total Borrowings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(117,'Creditors and accrued expenses','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(118,'Taxation','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(119,'Derivative financial instruments','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(120,'Total liabilities','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(121,'Growth in Borrowings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(122,'Total equity and liabilities','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(123,'Net assets per share','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(124,'Net profit appropriations','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(125,'Opening Retained earnings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(126,'Net profit after tax for the period','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(127,'Transfer to legal reserve','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(128,'Distributable surplus','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(129,'Retained earnings carried forward','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(130,'Opening balance','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(131,'Writeoff','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(132,'Client Prepayment account','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(133,'Short term working capital funding','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(134,'Less: UMFC','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(135,'Reserve Interest','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(136,'Asset growth','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(137,'Debt Equity ratio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(138,'Leverage ratio','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(139,'Provisions','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(140,'Provisions/net assets','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(141,'Average debtors','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(142,'Provision coverage of NPA','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(143,'NPA's','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(144,'NPA's as %age of debtors','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(145,'Borrowings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(146,'Average borrowings','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(147,'Yield ','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(148,'Cost of Borrowing','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(149,'Spread','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(150,'Office Equipment','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(151,'Office Furniture and Fixtures','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(152,'Computer','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(153,'Software','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(154,'Vehicles','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(155,'Household Furniture','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(156,'SIS updates','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(157,'Software upgrade','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(158,'Computers','S');
INSERT INTO BUD_ITEMS_LOOKUP (VALUE,DESCRIPTION,TYPE) VALUES(159,'Branch renovation','S');



INSERT INTO FA_LOOKUP_MASTER(COMPANY_ID,lookuptype_code,lookuptype_desc)
SELECT -1,501,'BUDGET_ITEMHEADER' FROM DUAL;

INSERT INTO FA_LOOKUP_MASTER(COMPANY_ID,lookuptype_code,lookuptype_desc)
SELECT -1,502,'BUDGET_ACCNATURE' FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 798,-1,501,1,'Assumptions',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 799,-1,501,2,'Cashflow',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 800,-1,501,3,'Debtors',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 803,-1,501,4,'P and L Yearly',1 FROM DUAL;
  
INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 804,-1,501,5,'CAPex',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 805,-1,501,6,'Overheads slide',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 806,-1,501,7,'B/S Yearly',1 FROM DUAL;



INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 801,-1,502,1,'P and L Items',1 FROM DUAL;

INSERT INTO FA_LOOKUP_DETAILS(LOOKUP_ID,COMPANY_ID,lookuptype_code,LOOKUP_CODE,LOOKUP_DESC,IS_ACTIVE)
SELECT 802,-1,502,2,'Balance Sheet',1 FROM DUAL;


--Added by Deepika on 26-Nov-19 for Budget Changes
--in COA

INSERT INTO fa_lookup_master(COMPANY_ID,LOOKUPTYPE_CODE,LOOKUPTYPE_DESC)
VALUES(-1,503,'BUDGET_SUBLINEITEM_TYPE')


insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(807,-1,503,1,'Input %',1);

insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(808,-1,503,2,'Input Value',1);

insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(809,-1,503,3,'System Value',1);

insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(810,-1,503,4,'Formula',1);


--------------------------------------------------------
--  DDL for Table TMP_BUD_SUBLINEITEMVIEWDETAILS
--------------------------------------------------------

  CREATE GLOBAL TEMPORARY TABLE TMP_BUD_SUBLINEITEMVIEWDETAILS 
   (	CREATED_BY VARCHAR2(200 BYTE), 
	ITEM_HEADER VARCHAR2(400 BYTE), 
	ACCOUNT_NATURE VARCHAR2(400 BYTE), 
	LINE_ITEM VARCHAR2(400 BYTE), 
	STATUS VARCHAR2(100 BYTE), 
	CREATED_ON VARCHAR2(200 BYTE), 
	SNO NUMBER, 
	SUBLINEITEM_MSTRID NUMBER, 
	SUBTOTALAPPLICABLE VARCHAR2(20 BYTE), 
	SUBTOTALNAME VARCHAR2(400 BYTE)
   ) ON COMMIT PRESERVE ROWS ;



--------------------------------------------------------
--  DDL for Table TMP_BUD_SUBLINEITEMDETAILS
--------------------------------------------------------

  CREATE GLOBAL TEMPORARY TABLE TMP_BUD_SUBLINEITEMDETAILS 
   (	ID NUMBER, 
	SUBLINEITEMID NUMBER, 
	SUBLINEITEMTYPE NUMBER, 
	EFFECTIVEFROM DATE, 
	EFFECTIVETO DATE
   ) ON COMMIT PRESERVE ROWS ;


--------------------------------------------------------
--  DDL for Table FA_BUD_SUBLINEITEM_MST
--------------------------------------------------------

  CREATE TABLE FA_BUD_SUBLINEITEM_MST 
   (	SUBLINEITEMMST_ID NUMBER, 
	COMPANY_ID NUMBER, 
	USER_ID NUMBER, 
	CREATED_ON DATE, 
	MODIFIED_ON DATE, 
	MODIFIED_BY NUMBER, 
	ITEM_HDR_ID NUMBER, 
	LINE_ITEM_ID NUMBER, 
	SUB_TOTAL NUMBER, 
	SUB_TOTAL_NAME VARCHAR2(200 BYTE), 
	IS_ACTIVE NUMBER, 
	ACCOUNT_NATURE_ID NUMBER
   )  

--------------------------------------------------------
--  DDL for Table FA_BUD_SUBLINEITEM_DTL
--------------------------------------------------------

  CREATE TABLE FA_BUD_SUBLINEITEM_DTL 
   (	SUBLINEITEMDTL_ID NUMBER, 
	SUBLINEITEMMST_ID NUMBER, 
	SUBLINE_ITEM_ID NUMBER, 
	SUB_LINE_ITEM_TYPE NUMBER, 
	EFFECTIVE_FROM DATE, 
	EFFECTIVE_TO DATE
   )  

--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_SUBLINEITEM_MST
--------------------------------------------------------

   CREATE SEQUENCE  SEQ_FA_BUD_SUBLINEITEM_MST  MINVALUE 1 MAXVALUE 9999999999999999999999 INCREMENT BY 1 START WITH 26 CACHE 20 NOORDER  NOCYCLE ;


--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_SUBLINEITEM_DTL
--------------------------------------------------------

   CREATE SEQUENCE  SEQ_FA_BUD_SUBLINEITEM_DTL  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_LINEITEM_DTL
--------------------------------------------------------

    CREATE SEQUENCE SEQ_FA_BUD_LINEITEM_DTL MINVALUE 1 MAXVALUE 9999999999999 INCREMENT BY 1 START WITH 189 CACHE 20 NOORDER NOCYCLE ;


--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_LINEITEM_MST 
--------------------------------------------------------

   CREATE SEQUENCE SEQ_FA_BUD_LINEITEM_MST MINVALUE 1 MAXVALUE 99999999999 INCREMENT BY 1 START WITH 43 CACHE 20 NOORDER NOCYCLE ;




SPs
---
BUD_GET_ITEMDETAILS

BUD_GET_LINEITEM_VIEW
BUD_GET_LINEITEMDETAILS
BUD_INS_LINEITEM

BUD_GET_SUBLINEITEM_VIEW
BUD_INS_SUBLINEITEM
BUD_GET_SUBLINEITEMS
BUD_GET_SUBLINEITEMDETAILS


--Added by Boobalan on 26-Nov-19 for Budget Changes
--in Budget Planning Master

INSERT INTO FA_SYS_PROGRAMMASTER
(PROGRAM_ID,PROGRAM_CODE,PROGRAM_NAME,MODULE_CODE,PROGRAM_REF_NO,IS_ACTIVE,CREATED_BY,CREATED_ON,MODIFIED_BY,MODIFIED_ON,PAGE_URL,DETAIL_URL,JV_APPLICABLE) VALUES
(434,'BPM','Budget Planning Master','FB',434,1,1,'14-11-19',0,null,'FA_BudgetPlanning_Master_View.aspx','FA_BudgetPlanning_Master_View.aspx',0)

--------------------------------------------------------
--  DDL for Table FA_BUDGET_MST
--------------------------------------------------------

 drop table FA_BUDGET_MST;

  CREATE TABLE FA_BUDGET_MST 
   (	BUDGET_MST_ID NUMBER, 
	COMPANY_ID NUMBER, 
	USER_ID NUMBER, 
	CREATED_ON DATE, 
	MODIFIED_ON DATE, 
	MODIFIED_BY NUMBER, 
	FIN_YEAR VARCHAR2(20 BYTE), 
	CURRENCY_ID NUMBER, 
	YEAR_BUDGET NUMBER, 
	GL_CODE VARCHAR2(50 BYTE), 
	BUDGET_PATTERN NUMBER, 
	ACTIVITY_ID NUMBER, 
	IS_ACTIVE NUMBER, 
	IS_APPROVE NUMBER)

--------------------------------------------------------
--  DDL for Table FA_BUDGET_DETAILS
--------------------------------------------------------

  CREATE TABLE FA_BUDGET_DETAILS 
   (	BUDGET_DET_ID NUMBER , 
	BUDGET_MST_ID NUMBER, 
	YEARMONTH VARCHAR2(10 BYTE), 
	BUDGET_AMT NUMBER, 
	YEARTYPE VARCHAR2(1 BYTE), 
	LOCK_DATE DATE, 
	IS_LOCK NUMBER, 
	LOCKED_USER NUMBER)

--------------------------------------------------------
--  DDL for Table FA_BUDGET_LOCATION
--------------------------------------------------------

  CREATE TABLE FA_BUDGET_LOCATION 
   (	BUDGET_LOC_ID NUMBER NOT NULL ENABLE, 
	BUDGET_MST_ID NUMBER, 
	LOCATION_ID NUMBER)

--------------------------------------------------------
--  DDL for Table TMP_BUD_PLANNINGVIEWDETAILS
--------------------------------------------------------

create global temporary table TMP_BUD_PLANNINGVIEWDETAILS
( 
SNO  Number,
BUDGET_MST_ID number,
FIN_YEAR varchar2(200),
CURRENCY_NAME varchar2(500),
YEAR_BUDGET number,
BUDGET_PATTERN varchar2(500),
GL_Account varchar2(50)
) ON COMMIT PRESERVE ROWS ;


--------------------------------------------------------
--  DDL for Table FA_BUDGET_DETAILS_ARCH
--------------------------------------------------------

  CREATE TABLE FA_BUDGET_DETAILS_ARCH 
   (	BUDGET_DET_ID NUMBER NOT NULL, 
	BUDGET_MST_ID NUMBER, 
	YEARMONTH VARCHAR2(10 BYTE), 
	BUDGET_AMT NUMBER, 
	YEARTYPE VARCHAR2(1 BYTE), 
	LOCK_DATE DATE, 
	IS_LOCK NUMBER, 
	LOCKED_USER NUMBER
   ) ;

   --------------------------------------------------------
--  DDL for Table FA_BUD_GL_SUM_ARCH
--------------------------------------------------------

  CREATE TABLE FA_BUD_GL_SUM_ARCH 
   (	GL_SUM_ID NUMBER NOT NULL,
	BUDGET_MST_ID NUMBER, 
	COMPANY_ID NUMBER, 
	LOCATION_ID NUMBER, 
	ACTIVITY_ID NUMBER, 
	FINMONTH VARCHAR2(10 BYTE), 
	GL_CODE VARCHAR2(50 BYTE), 
	BUDGET_AMT NUMBER
   ) ;

--------------------------------------------------------
--  DDL for Table FA_BUDGET_LOCATION_ARCH
--------------------------------------------------------

  CREATE TABLE FA_BUDGET_LOCATION_ARCH 
   (	BUDGET_LOC_ID NUMBER NOT NULL,
	BUDGET_MST_ID NUMBER, 
	LOCATION_ID NUMBER
   ) ;
 --------------------------------------------------------
--  DDL for Table TMP_BUD_PLANNINGVIEWDETAILS
--------------------------------------------------------
 CREATE TABLE FA_BUD_GL_SUM 
   (GL_SUM_ID NUMBER NOT NULL, 
	BUDGET_MST_ID NUMBER, 
	COMPANY_ID NUMBER, 
	LOCATION_ID NUMBER, 
	ACTIVITY_ID NUMBER, 
	FINMONTH VARCHAR2(10 BYTE), 
	GL_CODE VARCHAR2(50 BYTE), 
	BUDGET_AMT NUMBER
   )  ;


-----------------
-- New Sequence
-----------------

 CREATE SEQUENCE Seq_Budget_Loc_ID MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;

 CREATE SEQUENCE SEQ_Budget_Detail_ID MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;

 CREATE SEQUENCE SEQ_BUD_GL_SUM_ID MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;
-----------------
--- Triggers
-----------------
CREATE OR REPLACE TRIGGER Trig_BUD_GL_SUM 
BEFORE INSERT ON FA_BUD_GL_SUM 
FOR EACH ROW

BEGIN
  SELECT SEQ_BUD_GL_SUM_ID.NEXTVAL
  INTO   :new.Gl_Sum_ID
  FROM   dual;
END;


SP
BUD_GET_BUDGETPLANNING_LOAD
BUD_GET_GLACCOUNTS_LIST
BUD_GET_GL_LOCATIONS
FA_INS_UP_BUDGET_MST
BUD_GET_BUDGETPALNNING_MST
FA_GET_BUDGET_MASTER_LIST
FA_UPD_BUDGET_LOCK
BUD_GET_COPY_PROFILE_LIST

------Alter Script-----

Alter table fa_budget_mst add Locked_user number;
Alter table fa_budget_mst add Lock_Date date;
Alter table fa_budget_mst add Is_lock number DEFAULT 0;
Alter table TMP_BUD_PLANNINGVIEWDETAILS add Is_lock number;

--Added by Gomathi 

alter table FA_BUD_LOCATION_MST add Location_category_id number;

--Location Master and Location Category Trigger

alter table Fa_Account_master add Budget_Appl number;

Alter table FA_GLOBALPARAMETER_SETUP ADD BUDGET_ALONE NUMBER;


CREATE TABLE FA_BUD_VOUCHER_TABLE
(
  FA_BUD_VOUCHER_STAGING_ID NUMBER NOT NULL ENABLE,
  COMPANY_ID NUMBER,
  USER_ID NUMBER,
  CREATED_ON DATE,
  DOCUMENT_NO VARCHAR2(50),
  DOCUMENT_DATE DATE,
  VALUE_DATE DATE,
  GL_CODE VARCHAR2(50),
  SL_CODE VARCHAR2(100),
  TRANSACTION_TYPE VARCHAR2(1),
  TRANSACTION_AMOUNT NUMBER,
  LOCATION_ID NUMBER,
  ACTIVITY_ID NUMBER,
  SOURCE_TXN_ID NUMBER
)
  
create synonym SYN_FA_BUD_VOUCHER_TABLE for s3gmfcfadev.FA_BUD_VOUCHER_TABLE


create sequence SEQ_FA_BUD_VOUCHER_TABLE minvalue 1 maxvalue 999999999 increment by 1 start with 1 nocache noorder nocycle ;

create synonym SYN_SEQ_FA_BUD_VOUCHER_TABLE for s3gmfcfadev.SEQ_FA_BUD_VOUCHER_TABLE

GRANT SELECT  ON SEQ_FA_BUD_VOUCHER_TABLE  TO MFCDEV;
GRANT SELECT , INSERT,UPDATE ON FA_BUD_VOUCHER_TABLE  TO MFCDEV;
Alter table FA_globalparameter_setup add Noof_Budget_PRJ_YR number;

CREATE GLOBAL TEMPORARY TABLE TMP_FA_Budget_Validation ( 
Gl_code varchar2(50),
LOCATION_NAME VARCHAR2(50)
 ) ON COMMIT PRESERVE ROWS ;

create synonym SYN_FA_BUD_GL_SUM for s3gmfcfadev.FA_BUD_GL_SUM;

GRANT SELECT , INSERT,UPDATE ON FA_BUD_GL_SUM   TO MFCDEV;

create synonym SYN_FA_budget_mst for s3gmfcfastu.FA_budget_mst;

GRANT SELECT,INSERT,UPDATE ON FA_budget_mst TO MFCSTU;


S3G_LAD_INS_PYMTAPPRV
S3G_LAD_INS_MJVAPPR
S3G_LAD_INS_NFB_APPROVAL
S3G_LAD_INS_DRCRAPPRV
S3G_LAD_INS_NFB_APPROVAL
S3G_JV_CHKGLSL_SUM
S3G_LAD_TRAN_COMMON_INS_APPR





--Added by Deepika on 04-Dec-19 for Budget Formula master Changes

CREATE TABLE FA_BUD_FORMULA_OPERATORS
  (
    ID          NUMBER NOT NULL ENABLE,
    SYMBOL      VARCHAR2(20 BYTE) NOT NULL ENABLE,
    DESCRIPTION VARCHAR2(200 BYTE) NOT NULL ENABLE,
    Constraint Fa_Bud_Formula_Operators_Pk Primary Key (Id) Using Index Pctfree 10 Initrans 2 Maxtrans 255 
    Compute Statistics Storage(Initial 65536 Next 1048576 Minextents 1 Maxextents 2147483645 Pctincrease 0 Freelists 
    1 Freelist Groups 1 Buffer_Pool Default Flash_Cache Default Cell_Flash_Cache Default)
  )
CREATE TABLE FA_BUD_FORMULAMASTER_DTL
  (
    FORMULAMASTER_MST_ID NUMBER NOT NULL ENABLE,
    FORMULAMASTER_DTL_ID NUMBER NOT NULL ENABLE,
    GL_CODE              VARCHAR2(100 BYTE) NOT NULL ENABLE,
    SL_CODE              VARCHAR2(100 BYTE) NOT NULL ENABLE,
    Constraint Fa_Bud_Formulamaster_Dtl_Pk Primary Key (Formulamaster_Dtl_Id) Using Index Pctfree 10 Initrans 2 Maxtrans 
    255 Compute Statistics Storage(Initial 65536 Next 1048576 Minextents 1 Maxextents 2147483645 Pctincrease 0 Freelists 1 Freelist Groups 1 
    BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT),
    Constraint FA_BUD_FORMULAMASTER_DTL__FK1 Foreign Key (FORMULAMASTER_MST_ID) References FA_BUD_FORMULAMASTER_MST (FORMULAMASTER_MST_ID) Enable
  )
  
  CREATE TABLE FA_BUD_FORMULAMASTER_MST
  (
    FORMULAMASTER_MST_ID NUMBER NOT NULL ENABLE,
    FORMULATYPE_ID       NUMBER NOT NULL ENABLE,
    SUBLINEITEM_ID       NUMBER NOT NULL ENABLE,
    FORMULA              VARCHAR2(2000 BYTE) NOT NULL ENABLE,
    CREATED_ON DATE NOT NULL ENABLE,
    CREATED_BY NUMBER NOT NULL ENABLE,
    MODIFIED_ON DATE,
    MODIFIED_BY NUMBER,
    IS_ACTIVE   NUMBER NOT NULL ENABLE,
    COMPANY_ID  NUMBER NOT NULL ENABLE,
    FORMULA_VAL VARCHAR2(1000 BYTE) NOT NULL ENABLE,
    Constraint Fa_Bud_Formulamaster_Mst_Pk Primary Key (Formulamaster_Mst_Id) Using Index Pctfree 10 Initrans 2 Maxtrans 255 Compute Statistics Storage(Initial 65536 Next 1048576 Minextents 1 Maxextents 2147483645 Pctincrease 0 Freelists 1 Freelist Groups 1 Buffer_Pool Default Flash_Cache Default Cell_Flash_Cache Default) 
  )
  
  Create Global Temporary Table TMP_BUD_FORMULADETAILS ( FORMULAMASTER_ID Number, GL_CODE Varchar2(100 Byte), SL_CODE 
  Varchar2(200 Byte), Sno Number, Created_By Varchar2(200 Byte), Modified_By Varchar2(200 Byte), Created_On Date, Formula_Type Varchar2(200 Byte), Sublineitem Varchar2(400 Byte), Is_Active Varchar2(20 Byte), Formula Varchar2(4000 Byte), Gl_Desc Varchar2(200 Byte), 
  SL_DESC VARCHAR2(200 BYTE), FORMULA_VAL VARCHAR2(2000 BYTE) ) ON COMMIT PRESERVE ROWS ;

insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(1,'+','Addition');
insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(2,'-','Substraction');
insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(3,'*','Multiplication');
insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(4,'/','Division') ;
insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(5,'(','Left Paranthesis') ;
insert into FA_BUD_FORMULA_OPERATORS (Id,symbol,description) values(6,')','Right Paranthesis') ;

Insert Into Fa_Sys_Programmaster  (Program_Id,Program_Code,Program_Name,Module_Code,Program_Ref_No,Is_Active,Created_By,Created_On,
Page_Url,Detail_Url)
VALUES(437,'BFM','Formula Master','FB',437,1,1,SYSDATE,'BUD_FormulaMaster_View.aspx','BUD_FormulaMaster_Add.aspx');


insert into fa_lookup_master (Company_ID,lookuptype_code,Lookuptype_desc)
values(-1,505,'BUDGET_FORMULATYPE');

insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(812,-1,505,1,'Line Item',1);

insert into fa_lookup_details(lookup_id,company_id,lookuptype_code,lookup_code,lookup_desc,is_active)
values(813,-1,505,2,'GL Code',1);

Sequences
---------
CREATE SEQUENCE SEQ_FA_BUD_FORMULAMASTER_DTL MINVALUE 1 MAXVALUE 999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER NOCYCLE ;
CREATE SEQUENCE SEQ_FA_BUD_FORMULAMASTER_MST MINVALUE 1 MAXVALUE 9999999999 INCREMENT BY 1 START WITH 27 CACHE 20 NOORDER NOCYCLE ;


sp's
----
BUD_GET_FORMULAMASTER_VIEW
BUD_GET_FORMULAMASTERDETAILS
BUD_INS_FORMULAMASTER
BUD_GET_ITEMDETAILS




--Added by Boobalan on 28.11.2019 for Budget File Upload Changes


INSERT INTO FA_SYS_PROGRAMMASTER
(PROGRAM_ID,PROGRAM_CODE,PROGRAM_NAME,MODULE_CODE,PROGRAM_REF_NO,IS_ACTIVE,CREATED_BY,CREATED_ON,MODIFIED_BY,MODIFIED_ON,PAGE_URL,DETAIL_URL,JV_APPLICABLE) VALUES
(435,'BFU','FA_Budget File Upload','FB',435,1,1,'14-11-19',0,null,'FA_Budget_File_Upload.aspx','Budget_File_Upload.aspx',0)
 

--------Tables----------


  CREATE TABLE FA_BUD_FILEUPLOADCOLUMNLIST 
   (	COLUMNID NUMBER NOT NULL ENABLE, 
	ACTIVITYTYPE NUMBER, 
	TABLENAME VARCHAR2(30 BYTE), 
	EXCEL_COLUMNNAME VARCHAR2(100 BYTE), 
	DB_COLUMNNAME VARCHAR2(50 BYTE), 
	COLUMN_LENGTH NUMBER, 
	IS_ACTIVE NUMBER, 
	IS_EXCELCOLUMN NUMBER, 
	UPLOAD_ORDER NUMBER, 
	COMPANY_ID NUMBER
   ) ;
   
   
  CREATE TABLE S3GMFCFADEV.FA_BUD_DATA_DUMP 
   (	PARTICULARS VARCHAR2(200 BYTE), 
	FY1 VARCHAR2(20 BYTE), 
	FY2 VARCHAR2(20 BYTE), 
	FY3 VARCHAR2(20 BYTE), 
	FY4 VARCHAR2(20 BYTE), 
	FY5 VARCHAR2(20 BYTE), 
	COMPANY_ID VARCHAR2(20 BYTE), 
	USER_ID VARCHAR2(20 BYTE), 
	UPLOAD_ID VARCHAR2(20 BYTE), 
	SNO VARCHAR2(20 BYTE), 
	STATUS_ID VARCHAR2(20 BYTE), 
	EXCEPTION VARCHAR2(500 BYTE), 
	PARTICULARS_ID NUMBER, 
	INPUT_TYPE NUMBER, 
	ISNUMERIC NUMBER(*,0) DEFAULT 0
   );


  CREATE TABLE S3GMFCFADEV.FA_BUD_FILEUPLOAD 
   (	UPLOAD_ID NUMBER, 
	COMPANY_ID NUMBER, 
	PROGRAM_ID NUMBER, 
	FILE_NAME VARCHAR2(100 BYTE), 
	STATUS_ID NUMBER, 
	UPLOAD_PATH VARCHAR2(200 BYTE), 
	SCHEDULED_ON DATE, 
	COMPLETED_ON DATE, 
	UPLOAD_ON DATE, 
	UPLOAD_BY NUMBER, 
	IS_SAVED VARCHAR2(1 BYTE), 
	IS_DELETED VARCHAR2(1 BYTE), 
	DELETED_BY NUMBER, 
	DELETED_ON DATE, 
	ITEM_HEADER_ID NUMBER, 
	FINANCIAL_YEAR VARCHAR2(20 BYTE), 
	ACTIVITY NUMBER, 
	ACCOUNT_NATURE NUMBER
   ) ;

  CREATE TABLE FA_BUD_LOOKUP 
   (	LOOKUP_ID NUMBER(*,0) NOT NULL ENABLE, 
	VALUE NUMBER(*,0) NOT NULL ENABLE, 
	NAME VARCHAR2(100 BYTE) NOT NULL ENABLE, 
	TYPE VARCHAR2(100 BYTE) NOT NULL ENABLE, 
	IS_ACTIVE NUMBER(*,0) NOT NULL ENABLE, 
	CREATED_ON DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE SYSTEM ;

------------- SEQUENCE ---------------------------

 CREATE SEQUENCE SEQ_BUD_FILEUPLOAD MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;


--- Script ----
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (1,1,'FA_Bud_Data_Dump','PARTICULARS','PARTICULARS',100,1,1,1,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (2,1,'FA_Bud_Data_Dump','FY1','FY1',20,1,1,2,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (3,1,'FA_Bud_Data_Dump','FY2','FY2',20,1,1,3,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (4,1,'FA_Bud_Data_Dump','FY3','FY3',20,1,1,4,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (5,1,'FA_Bud_Data_Dump','FY4','FY4',20,1,1,5,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (6,1,'FA_Bud_Data_Dump','FY5','FY5',20,1,1,6,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (7,1,'FA_Bud_Data_Dump','COMPANY_ID','COMPANY_ID',10,1,0,7,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (8,1,'FA_Bud_Data_Dump','User_ID','User_ID',10,1,0,8,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (9,1,'FA_Bud_Data_Dump','Upload_ID','Upload_ID',10,1,0,9,1);
Insert into FA_BUD_FILEUPLOADCOLUMNLIST (COLUMNID,ACTIVITYTYPE,TABLENAME,EXCEL_COLUMNNAME,DB_COLUMNNAME,COLUMN_LENGTH,IS_ACTIVE,IS_EXCELCOLUMN,UPLOAD_ORDER,COMPANY_ID) values (10,1,'FA_Bud_Data_Dump','SNO','SNO',10,1,0,10,1);


CREATE SEQUENCE Seq_Budget_Lookup_ID MINVALUE 1 MAXVALUE 999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE ;

CREATE OR REPLACE TRIGGER Trig_BUD_Lookup
BEFORE INSERT ON FA_BUD_LOOKUP
FOR EACH ROW

BEGIN
  SELECT Seq_Budget_Lookup_ID.NEXTVAL
  INTO   :new.Lookup_Id
  FROM   dual;
END;



Insert Into FA_BUD_LOOKUP values (0,  1,'Pending','File_Import_Status',1,Sysdate );
Insert Into FA_BUD_LOOKUP values (0,	2,'Validated','File_Import_Status',1,Sysdate );
Insert Into FA_BUD_LOOKUP values (0,	3,'Completed','File_Import_Status',1,Sysdate );
Insert Into FA_BUD_LOOKUP values (0,	4,'Delete','File_Import_Status',1,Sysdate );
Insert Into FA_BUD_LOOKUP values (0,	5,'Validated with Errors','File_Import_Status',1,Sysdate );


  CREATE TABLE FA_BUD_FUP_DETAILS 
   (	FUP_MASTER_ID NUMBER, 
	FUP_DETAILS_ID NUMBER, 
	LINEITEM_ID NUMBER, 
	FY1 VARCHAR2(20 BYTE), 
	FY2 VARCHAR2(20 BYTE), 
	FY3 VARCHAR2(20 BYTE), 
	FY4 VARCHAR2(20 BYTE), 
	FY5 VARCHAR2(20 BYTE)
   )    

  ALTER TABLE FA_BUD_FUP_DETAILS ADD CONSTRAINT FA_BUD_FUP_DETAILS_FA_BUD_FK1 FOREIGN KEY (FUP_MASTER_ID)
	  REFERENCES FA_BUD_FUP_MASTER (FUP_MASTER_ID) ENABLE;


--------------------------------------------------------
--  DDL for Table FA_BUD_FUP_MASTER
--------------------------------------------------------

  CREATE TABLE FA_BUD_FUP_MASTER 
   (	FUP_MASTER_ID NUMBER, 
	ITEM_HEADER_ID NUMBER, 
	FINANCIAL_YEAR VARCHAR2(10 BYTE), 
	USER_ID NUMBER, 
	CREATED_ON DATE, 
	MODIFIED_BY NUMBER, 
	MODIFIED_ON DATE, 
	UPLOAD_ID NUMBER, 
	COMPANY_ID NUMBER,
	ACTIVITY NUMBER
   ) 
  ALTER TABLE FA_BUD_FUP_MASTER ADD CONSTRAINT FA_BUD_FUP_MASTER_PK PRIMARY KEY (FUP_MASTER_ID)
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE FADEV  ENABLE;
 
   
--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_FUP_DETAILS
--------------------------------------------------------

  CREATE SEQUENCE  SEQ_FA_BUD_FUP_DETAILS  MINVALUE 1 MAXVALUE 9999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

--------------------------------------------------------
--  DDL for Sequence SEQ_FA_BUD_FUP_MASTER
--------------------------------------------------------

   CREATE SEQUENCE  SEQ_FA_BUD_FUP_MASTER  MINVALUE 1 MAXVALUE 99999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;


--------------------------------------------------------
--- Function -----
----------------------------------

create or replace FUNCTION is_numeric( p_str IN VARCHAR2 )
  RETURN NUMBER
IS
  l_num NUMBER;
BEGIN
  l_num := to_number( p_str );
  RETURN 1;
EXCEPTION
  WHEN value_error
  THEN
    RETURN 0;
END;


Alter table fa_bud_fileupload add Account_Nature Number;

  CREATE GLOBAL TEMPORARY TABLE TMP_BUD_FILEUPLOAD_DETAILS 
   (	UPLOAD_ID NUMBER, 
	FIN_YEAR VARCHAR2(200 BYTE), 
	ITEM_HEADER VARCHAR2(50 BYTE), 
	ACTIVITY VARCHAR2(500 BYTE), 
	ACCOUNT_NATURE VARCHAR2(500 BYTE), 
	UPLOAD_STATUS VARCHAR2(50 BYTE), 
	SNO NUMBER
   ) ON COMMIT PRESERVE ROWS ;


------------- Function -------------

create or replace FUNCTION IS_PERSENTAGE( p_str IN VARCHAR2 )
  RETURN NUMBER
IS
  l_num NUMBER;
BEGIN
  l_num := to_number( p_str );
 if(l_num > 100) THEN
   RETURN 1;
   else  
   RETURN 0;
   END IF;
EXCEPTION
  WHEN value_error
  THEN
    RETURN -1;
END;







